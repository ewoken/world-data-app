(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{268:function(e,t,n){e.exports=n(504)},273:function(e,t,n){},504:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(16),c=n.n(o),i=(n(273),n(34)),u=n(516),s=n(87),l=n(245),d=n(246),p=n(30),m=n(19),f=n(278),y=["AD","LI","MH","FM","MC","PW","SM","TV","VA"],O=f.map(function(e){return{id:Number(e.ccn3),alpha2Code:e.cca2,commonName:e.name.common,alpha3Code:e.cca3,numericCode:e.ccn3,region:e.region,subregion:e.subregion,isIndependent:e.independent,area:e.area,capital:e.capital,latlng:e.latlng,disabled:y.includes(e.cca2)}}).filter(function(e){return"Antarctic"!==e.region}).filter(function(e){return e.isIndependent});var C=function(){return Promise.resolve(O)},v="COUNTRIES_LOAD_ACTION",h="COUNTRIES_RECEIVE_ACTION";function E(e){var t=e.data,n=e.errors;return{type:h,data:t,errors:n}}var b={loading:!1,loaded:!1,errors:null,data:{}};function g(e){return e.countries.loaded}function S(e){return Object(m.i)(e.countries.data)}function j(e,t){return t.countries.data[e]}var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(p.a)({},e,{loading:!0});case h:return Object(p.a)({},e,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data||{}});default:return e}},I=n(50),T=n(22),M=n(67),k=n.n(M),A=n(99);function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return fetch(e,t).catch(function(a){if(n>3)throw a;return new Promise(function(a,r){setTimeout(function(){_(e,t,n+1).then(a).catch(r)},3e3)})})}var P="20cf4469dcd5b4da5fc7cb448d9d934e",x="EIA_API";function L(e){return"(s)"===e?0:isNaN(e)?null:e}function w(){return(w=Object(A.a)(k.a.mark(function e(t,n){var a,r,o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.seriesOfCountry(n),e.next=3,_("http://api.eia.gov/series/?api_key=".concat(P,"&series_id=").concat(a));case 3:return r=e.sent,e.next=6,r.json();case 6:if(!((o=e.sent).data&&o.data.error&&o.data.error.startsWith("invalid series_id"))){e.next=9;break}return e.abrupt("return",[]);case 9:return e.abrupt("return",o.series[0].data.map(function(e){var a=L(e[1]);return{statisticCode:t.code,countryCode:n.alpha2Code,year:Number(e[0]),value:null!==a?t.unitConverter(a):null}}));case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var U="IEA_API",D={};function R(){return(R=Object(A.a)(k.a.mark(function e(t,n){var a,r,o,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.ieaId,D[a]){e.next=10;break}return e.next=4,_("http://energyatlas.iea.org/DataServlet?edition=WORLD&lang=en&datasets=".concat(a,"&cmd=getdatavalues"));case 4:return r=e.sent,e.next=7,r.json();case 7:o=e.sent,c=o.datasets[a].values,D[a]=Object.keys(c).reduce(function(e,t){var n=c[t];return Object.keys(n).reduce(function(e,a){var r=n[a].value,o={year:Number(t),value:r};return e[a]?e[a].push(o):e[a]=[o],e},e)},{});case 10:return e.abrupt("return",D[a][n.alpha3Code]||[]);case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Y="WORLD_BANK_API";function B(){return(B=Object(A.a)(k.a.mark(function e(t,n){var a,r,o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.worldBankCode,e.next=3,_("http://api.worldbank.org/v2/countries/".concat(n.alpha2Code,"/indicators/").concat(a,"?format=json&per_page=100"));case 3:return r=e.sent,e.next=6,r.json();case 6:if((o=e.sent)[1]){e.next=9;break}return e.abrupt("return",[]);case 9:return e.abrupt("return",o[1].map(function(e){return{statisticCode:t.code,countryCode:n.alpha2Code,year:Number(e.date),value:e.value}}));case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function F(e){return e/11.63}function K(e){return e/.38}var H=[{code:"COAL_PRODUCTION_MTOE",name:"Coal production",description:"",startingYear:1980,endingYear:2016,unit:"Mtoe",sources:"EIA, U.S. Energy Information Administration",api:x,seriesOfCountry:function(e){return"INTL.7-1-".concat(e.alpha3Code,"-MTOE.A")},unitConverter:function(e){return Number(e.toFixed(2))}},{code:"COAL_CONSUMPTION_MTOE",name:"Coal consumption",description:"",startingYear:1980,endingYear:2016,unit:"Mtoe",sources:"EIA, U.S. Energy Information Administration",api:x,seriesOfCountry:function(e){return"INTL.7-2-".concat(e.alpha3Code,"-MTOE.A")},unitConverter:function(e){return Number(e.toFixed(2))}},{code:"GAS_PRODUCTION_MTOE",name:"Gas production",description:"",startingYear:1980,endingYear:2017,unit:"Mtoe",sources:"EIA, U.S. Energy Information Administration",api:x,seriesOfCountry:function(e){return"INTL.26-1-".concat(e.alpha3Code,"-MTOE.A")},unitConverter:function(e){return Number(e.toFixed(2))}},{code:"GAS_CONSUMPTION_MTOE",name:"Gas consumption",description:"",startingYear:1980,endingYear:2017,unit:"Mtoe",sources:"EIA, U.S. Energy Information Administration",api:x,seriesOfCountry:function(e){return"INTL.26-2-".concat(e.alpha3Code,"-MTOE.A")},unitConverter:function(e){return Number(e.toFixed(2))}},{code:"OIL_PRODUCTION_MTOE",name:"Oil production",description:"",startingYear:1973,endingYear:2014,unit:"Mtoe",sources:"IEA",api:U,ieaId:"-21319742"},{code:"OIL_CONSUMPTION_MTOE",name:"Oil consumption",description:"",startingYear:1973,endingYear:2014,unit:"Mtoe",sources:"IEA",api:U,ieaId:"642753284"},{code:"HYDRO_CONSUMPTION_MTOE",name:"Hydroelectricity consumption",description:"",startingYear:1980,endingYear:2016,unit:"Mtoe",sources:"EIA, U.S. Energy Information Administration",api:x,seriesOfCountry:function(e){return"INTL.33-12-".concat(e.alpha3Code,"-BKWH.A")},unitConverter:function(e){return Number(K(F(e)).toFixed(2))}},{code:"NUCLEAR_CONSUMPTION_MTOE",name:"Nuclear consumption",description:"",startingYear:1980,endingYear:2016,unit:"Mtoe",sources:"EIA, U.S. Energy Information Administration",api:x,seriesOfCountry:function(e){return"INTL.27-12-".concat(e.alpha3Code,"-BKWH.A")},unitConverter:function(e){return Number(K(F(e)).toFixed(2))}},{code:"NON_HYDRO_RENEWABLES_CONSUMPTION_MTOE",name:"Non-Hydroelectric renewables consumption",description:"",startingYear:1980,endingYear:2016,unit:"Mtoe",sources:"EIA, U.S. Energy Information Administration",api:x,seriesOfCountry:function(e){return"INTL.34-12-".concat(e.alpha3Code,"-BKWH.A")},unitConverter:function(e){return Number(K(F(e)).toFixed(2))}},{code:"WASTE_BIOMASS_CONSUMPTION_MTOE",name:"Waste and biomass consumption",description:"",startingYear:1980,endingYear:2016,unit:"Mtoe",sources:"EIA, U.S. Energy Information Administration",api:x,seriesOfCountry:function(e){return"INTL.38-12-".concat(e.alpha3Code,"-BKWH.A")},unitConverter:function(e){return Number(K(F(e)).toFixed(2))}},{code:"PRIMARY_ENERGY_MTOE",name:"Primary energy consumption",description:"",startingYear:1980,endingYear:2016,unit:"Mtoe",sources:"EIA, U.S. Energy Information Administration",api:x,seriesOfCountry:function(e){return"INTL.44-2-".concat(e.alpha3Code,"-MTOE.A")},unitConverter:function(e){return Number(e.toFixed(2))}},{code:"POPULATION",name:"Population",description:"",startingYear:1960,endingYear:2017,unit:"capita",sources:"World Bank",api:Y,worldBankCode:"SP.POP.TOTL"}];function W(e,t){switch(e.api){case x:return function(e,t){return w.apply(this,arguments)}(e,t);case U:return function(e,t){return R.apply(this,arguments)}(e,t);case Y:return function(e,t){return B.apply(this,arguments)}(e,t);default:return Promise.resolve([])}}var G="STATISTICS_LOAD_ACTION",V="STATISTICS_RECEIVE_ACTION",z="COUNTRY_STATISTIC_LOAD_ACTION",J="COUNTRY_STATISTIC_RECEIVE_ACTION";function q(e){var t=e.data,n=e.errors;return{type:V,data:t,errors:n}}function $(e){var t=e.countryCode,n=e.statisticCode,a=e.data,r=e.errors;return{type:J,countryCode:t,statisticCode:n,data:a,errors:r}}var Q={loading:!0,loaded:!1,errors:null,values:[]};function X(e,t){switch(t.type){case z:return Q;case J:return{loading:!1,loaded:!t.errors,errors:t.errors||null,values:t.data||{}};default:return e}}var Z={loading:!1,loaded:!1,errors:null,data:{}};function ee(e){return e.statistics.loaded}function te(e,t){return t.statistics.data[e]}function ne(e,t){var n=e.statisticCode,a=e.countryCode;return te(n,t).values[a]}function ae(e,t){var n=ne({statisticCode:e.statisticCode,countryCode:e.countryCode},t);return n?n.values:[]}function re(e,t){var n=e.statisticCodes,a=e.countryCode;return n.every(function(e){return function(e,t){var n=ne({statisticCode:e.statisticCode,countryCode:e.countryCode},t);return!!n&&n.loaded}({statisticCode:e,countryCode:a},t)})}function oe(e,t){var n,a=e.mapOfStatisticCodes,r=e.countryCode,o=Object(m.c)(function(e){return ae({statisticCode:e,countryCode:r},t)},a),c=Object(m.i)(o),i=c.map(function(e){return Math.min.apply(Math,Object(I.a)(e.map(function(e){return e.year})))}),u=c.map(function(e){return Math.max.apply(Math,Object(I.a)(e.map(function(e){return e.year})))}),s=Math.max.apply(Math,Object(I.a)(i)),l=Math.min.apply(Math,Object(I.a)(u)),d=Object(m.d)(function(e,t){return e.map(function(e){var n=e.year,a=e.value;return Object(T.a)({year:n},t,a)})},o),p=(n=[]).concat.apply(n,Object(I.a)(Object(m.i)(d))),f=Object(m.a)(function(e){return e.year},p);return Object.keys(f).sort().map(function(e){var t=f[e];return Object(m.e)(t)}).filter(function(e){return s<=e.year&&e.year<=l})}function ce(e){var t=e.statisticCode,n=e.countryCode;return function(e,a){var r=a(),o=te(t,r),c=j(n,r);o.values[n]&&o.values[n].loaded||(e(function(e,t){return{type:z,statisticCode:e,countryCode:t}}(t,n)),W(o,c).then(function(a){var r=a.map(function(e){return{year:e.year,value:e.value}});e($({countryCode:n,statisticCode:t,data:r}))}).catch(function(a){return e($({statisticCode:t,countryCode:n,errors:a}))}))}}function ie(e){var t=e.statisticCodes,n=e.countryCode;return function(e,a){return Promise.all(t.map(function(t){return ce({statisticCode:t,countryCode:n})(e,a)}))}}var ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(p.a)({},e,{loading:!0});case V:return Object(p.a)({},e,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data||{}});case z:case J:var n=e.data[t.statisticCode],a=n.values[t.countryCode];return Object(p.a)({},e,{data:Object(p.a)({},e.data,Object(T.a)({},t.statisticCode,Object(p.a)({},n,{values:Object(p.a)({},n.values,Object(T.a)({},t.countryCode,X(a,t)))})))});default:return e}},se=Object(s.combineReducers)({countries:N,statistics:ue}),le=[Object(s.applyMiddleware)(d.a)],de=Object(l.composeWithDevTools)({}).apply(void 0,le),pe=Object(s.createStore)(se,de),me=(n(281),n(119)),fe=(n(505),n(192)),ye=(n(507),n(157)),Oe=(n(159),n(102)),Ce=n(511),ve=n(519),he=n(512),Ee=n(517),be=n(518),ge=n(42),Se=n(36),je=n(45),Ne=n(43),Ie=n(46),Te=function(e){function t(){var e;return Object(ge.a)(this,t),(e=Object(je.a)(this,Object(Ne.a)(t).call(this))).state={},e}return Object(Ie.a)(t,e),Object(Se.a)(t,[{key:"setCountry",value:function(e){this.setState(function(t){return Object(p.a)({},t,{countryCode:e})})}},{key:"setStatistic",value:function(e){this.setState(function(t){return Object(p.a)({},t,{statisticCode:e})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"HomeView"})}}]),t}(a.Component),Me=(n(297),n(193)),ke=(n(299),n(109)),Ae=(n(300),n(91)),_e=n(303),Pe=n(422),xe=n(509),Le=n(514),we=n(510),Ue=n(474),De=n(475),Re=n(506),Ye=n(242);function Be(e){var t=e.active,n=e.payload;if(t&&n&&n.length>0){var a=e.label,o=n[0].unit,c=n.reduce(function(e,t){return e+t.value},0);return r.a.createElement("div",{className:"CustomTooltip"},r.a.createElement("div",null,a),r.a.createElement("div",null,n&&n.map(function(e){return r.a.createElement("div",{key:e.dataKey,style:{lineHeight:"22px",color:e.color}},"".concat(e.name," : ").concat(e.value," ").concat(e.unit))}),r.a.createElement("div",{key:"total",style:{lineHeight:"22px",color:"red"}},"Total : ".concat(c.toFixed(2)," ").concat(o))))}return null}Be.defaultProps={label:""};var Fe=function(e){var t=e.data,n=e.stacked,a=e.setStacked,o=e.perCapita,c=e.setPerCapita,i=o?" toe/capita":" Mtoe",u=t.map(function(e){return Object(p.a)({},e,{total:Number((e.coal+e.oil+e.gas+e.hydro+e.nuclear+e.renewables).toFixed(2))})}),s=o?u.map(function(e){return Object(p.a)({},e,Object(m.c)(function(t){return Number((t*Math.pow(10,6)/e.population).toFixed(2))},Object(m.f)(["year","population"],e)))}):u,l=t.some(function(e){return e.coal>=.01}),d=t.some(function(e){return e.oil>=.01}),f=t.some(function(e){return e.gas>=.01}),y=t.some(function(e){return e.nuclear>=.01}),O=t.some(function(e){return e.hydro>=.01}),C=t.some(function(e){return e.renewables>=.01}),v=n?_e.a:Pe.a;return r.a.createElement("div",{className:"PrimaryEnergyChart"},r.a.createElement("h3",{className:"PrimaryEnergyChart__title"},"Primary Energy Consumption"),r.a.createElement("div",null,r.a.createElement(Ae.a.Group,{buttonStyle:"solid",size:"small",value:n,onChange:function(e){return a(e.target.value)},style:{marginRight:"10px"}},r.a.createElement(Ae.a.Button,{value:!0},"Stacked"),r.a.createElement(Ae.a.Button,{value:!1},"Split")),r.a.createElement(Ae.a.Group,{buttonStyle:"solid",size:"small",value:o,onChange:function(e){return c(e.target.value)}},r.a.createElement(Ae.a.Button,{value:!1},"Absolute"),r.a.createElement(Ae.a.Button,{value:!0},"Per capita"))),r.a.createElement(xe.a,{height:300,width:"100%"},r.a.createElement(Le.a,{data:s,margin:{top:10,right:0,bottom:10,left:0}},l&&r.a.createElement(v,{type:"monotone",dataKey:"coal",dot:!1,activeDot:!1,name:"Coal",stroke:"black",fill:"black",stackId:"1",unit:i}),d&&r.a.createElement(v,{type:"monotone",dataKey:"oil",dot:!1,activeDot:!1,name:"Oil",stroke:"grey",fill:"grey",stackId:"1",unit:i}),f&&r.a.createElement(v,{type:"monotone",dataKey:"gas",dot:!1,activeDot:!1,name:"Gas",stroke:"orange",fill:"orange",stackId:"1",unit:i}),y&&r.a.createElement(v,{type:"monotone",dataKey:"nuclear",dot:!1,activeDot:!1,name:"Nuclear",stroke:"purple",fill:"purple",stackId:"1",unit:i}),O&&r.a.createElement(v,{type:"monotone",dataKey:"hydro",dot:!1,activeDot:!1,name:"Hydroelectricity",stroke:"blue",fill:"blue",stackId:"1",unit:i}),C&&r.a.createElement(v,{type:"monotone",dataKey:"renewables",dot:!1,activeDot:!1,name:"Other renewables",stroke:"green",fill:"green",stackId:"1",unit:i}),r.a.createElement(we.a,{stroke:"#ccc",opacity:.2}),r.a.createElement(Ue.a,{dataKey:"year",domain:["dataMin","dataMax"],interval:4}),r.a.createElement(De.a,{label:{value:i,angle:-90,position:"insideLeft"}}),r.a.createElement(Re.a,{content:Be}),r.a.createElement(Ye.a,{iconType:"plainLine"}))))},Ke={coal:"COAL_CONSUMPTION_MTOE",gas:"GAS_CONSUMPTION_MTOE",oil:"OIL_CONSUMPTION_MTOE",hydro:"HYDRO_CONSUMPTION_MTOE",nuclear:"NUCLEAR_CONSUMPTION_MTOE",renewables:"NON_HYDRO_RENEWABLES_CONSUMPTION_MTOE",population:"POPULATION"},He=Object(m.i)(Ke),We=Object(i.b)(function(e,t){var n=t.countryCode;return{data:oe({mapOfStatisticCodes:Ke,countryCode:n},e)}})(Fe),Ge=function(e){function t(){var e;return Object(ge.a)(this,t),(e=Object(je.a)(this,Object(Ne.a)(t).call(this))).state={stacked:!0,perCapita:!1},e}return Object(Ie.a)(t,e),Object(Se.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.countryCode;(0,e.loadStatistics)({statisticCodes:He,countryCode:t})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.countryCode,a=t.loadStatistics;n!==e.countryCode&&a({statisticCodes:He,countryCode:n})}},{key:"setStacked",value:function(e){this.setState({stacked:e})}},{key:"setPerCapita",value:function(e){this.setState({perCapita:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isLoaded,a=t.countryCode,o=this.state,c=o.stacked,i=o.perCapita;return n?r.a.createElement(We,{countryCode:a,setStacked:function(t){return e.setStacked(t)},setPerCapita:function(t){return e.setPerCapita(t)},stacked:c,perCapita:i}):r.a.createElement(Oe.a,null,r.a.createElement(We,{countryCode:a,stacked:c,perCapita:i,setStacked:function(){}}))}}]),t}(a.Component),Ve=Object(i.b)(function(e,t){return{isLoaded:re({statisticCodes:He,countryCode:t.countryCode},e)}},{loadStatistics:ie})(Ge),ze=n(0),Je=n.n(ze);Je.a.arrayOf(Je.a.shape({year:Je.a.number.isRequired,value:Je.a.number.isRequired}));function qe(e){if(e.active){var t=e.payload,n=e.label,a=e.filter;return r.a.createElement("div",{className:"CustomTooltip"},r.a.createElement("div",null,n),r.a.createElement("div",null,t&&t.filter(a).map(function(e){return r.a.createElement("div",{key:e.dataKey,style:{lineHeight:"22px",color:e.color}},"".concat(e.name," : ").concat(e.value," ").concat(e.unit))})))}return null}qe.defaultProps={label:"",filter:function(e){return e}};var $e=function(e){var t=e.fuel,n=e.prodStatistic,a=e.consoStatistic,o=e.prodValues,c=e.consoValues;a.unit!==n.unit&&console.warn("Production and consommation have not the same unit",[n.code,a.code]);var i=a.unit,u=function(e){var t,n=Object(m.i)(e),a=n.map(function(e){return Math.min.apply(Math,Object(I.a)(e.map(function(e){return e.year})))}),r=n.map(function(e){return Math.max.apply(Math,Object(I.a)(e.map(function(e){return e.year})))}),o=Math.max.apply(Math,Object(I.a)(a)),c=Math.min.apply(Math,Object(I.a)(r)),i=Object(m.d)(function(e,t){return e.map(function(e){var n=e.year,a=e.value;return Object(T.a)({year:n},t,a)})},e),u=(t=[]).concat.apply(t,Object(I.a)(Object(m.i)(i))),s=Object(m.a)(function(e){return e.year},u);return Object.keys(s).sort().map(function(e){var t=s[e];return Object(m.e)(t)}).filter(function(e){return o<=e.year&&e.year<=c})}({prod:o,conso:c}).map(function(e){var t=Number((e.prod-e.conso).toFixed(2));return{year:e.year,prod:e.prod,conso:e.conso,export:t>0?t:null,import:t<0?-t:null,base:Math.min(e.prod,e.conso)}});return r.a.createElement("div",{className:"ProdConsoChart"},r.a.createElement("h3",null,t),r.a.createElement(xe.a,{height:250,width:"100%"},r.a.createElement(Le.a,{data:u,margin:{top:30,right:20,bottom:5,left:20}},r.a.createElement(_e.a,{type:"monotone",dot:!1,dataKey:"base",stroke:"none",stackId:"1",activeDot:!1,fill:"none",unit:i}),r.a.createElement(_e.a,{type:"monotone",dot:!1,unit:i,name:"".concat(t," export"),dataKey:"export",activeDot:!1,stroke:"green",strokeOpacity:0,fillOpacity:1,fill:"green",stackId:"1"}),r.a.createElement(_e.a,{type:"monotone",dot:!1,unit:i,name:"".concat(t," import"),dataKey:"import",activeDot:!1,stroke:"red",strokeOpacity:0,fillOpacity:1,fill:"red",stackId:"1"}),r.a.createElement(Pe.a,{type:"monotone",dataKey:"conso",dot:!1,unit:i,stroke:"#880000",strokeWidth:3,name:a.name}),r.a.createElement(Pe.a,{type:"monotone",dataKey:"prod",dot:!1,unit:i,stroke:"black",strokeWidth:3,strokeOpacity:.7,name:n.name}),r.a.createElement(we.a,{stroke:"#ccc",opacity:.2}),r.a.createElement(Ue.a,{dataKey:"year",domain:["dataMin","dataMax"],interval:9}),r.a.createElement(De.a,{label:{value:i,position:"insideTopLeft",offset:-20}}),r.a.createElement(Re.a,{content:function(e){return r.a.createElement(qe,Object.assign({},e,{filter:function(e){return"base"!==e.name}}))}}))))},Qe=Object(i.b)(function(e,t){return{prodStatistic:te(t.prodStatisticCode,e),consoStatistic:te(t.consoStatisticCode,e),prodValues:ae({statisticCode:t.prodStatisticCode,countryCode:t.countryCode},e),consoValues:ae({statisticCode:t.consoStatisticCode,countryCode:t.countryCode},e)}})($e),Xe=function(e){function t(){return Object(ge.a)(this,t),Object(je.a)(this,Object(Ne.a)(t).apply(this,arguments))}return Object(Ie.a)(t,e),Object(Se.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.consoStatisticCode,n=e.prodStatisticCode,a=e.countryCode;(0,e.loadStatistics)({statisticCodes:[t,n],countryCode:a})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.countryCode,a=t.loadStatistics,r=[t.consoStatisticCode,t.prodStatisticCode];n!==e.countryCode&&a({statisticCodes:r,countryCode:n})}},{key:"render",value:function(){var e=this.props,t=e.isLoaded,n=e.fuel,a=e.consoStatisticCode,o=e.prodStatisticCode,c=e.countryCode;return t?r.a.createElement(Qe,{fuel:n,consoStatisticCode:a,prodStatisticCode:o,countryCode:c}):r.a.createElement(Oe.a,null,r.a.createElement(Qe,{fuel:n,consoStatisticCode:a,prodStatisticCode:o,countryCode:c}))}}]),t}(a.Component),Ze=Object(i.b)(function(e,t){return{isLoaded:re({statisticCodes:[t.prodStatisticCode,t.consoStatisticCode],countryCode:t.countryCode},e)}},{loadStatistics:ie})(Xe),et=n(115),tt=n(513),nt=n(515),at=n(41),rt=n.n(at),ot=function(e){function t(){return Object(ge.a)(this,t),Object(je.a)(this,Object(Ne.a)(t).apply(this,arguments))}return Object(Ie.a)(t,e),Object(Se.a)(t,[{key:"componentDidMount",value:function(){this.createGeoJSON()}},{key:"componentDidUpdate",value:function(e){var t=this.props.data;e.data!==t&&(this.geojson.remove(),this.createGeoJSON())}},{key:"createGeoJSON",value:function(){var e=this.props,t=e.leaflet.map,n=e.data;this.geojson=rt.a.geoJSON(n).addTo(t);var a=this.geojson.getBounds();t.flyToBounds(a)}},{key:"render",value:function(){return null}}]),t}(a.Component),ct=Object(et.b)(ot);var it=function(e){var t=e.country,n=e.countryGeoJSON;return r.a.createElement("div",{className:"CountryMap"},r.a.createElement(tt.a,{center:t.latlng,zoom:2,style:{height:"300px",zIndex:0}},r.a.createElement(nt.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n&&r.a.createElement(ct,{data:n})))},ut=function(e){function t(){var e;return Object(ge.a)(this,t),(e=Object(je.a)(this,Object(Ne.a)(t).call(this))).state={geojson:null},e}return Object(Ie.a)(t,e),Object(Se.a)(t,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"componentDidUpdate",value:function(e){var t=this.props.country;e.country.alpha2Code!==t.alpha2Code&&this.fetch()}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=this,t=this.props.country;fetch("/geo/".concat(t.alpha3Code.toLowerCase(),".geo.json")).then(function(e){return e.json()}).then(function(t){return e.setState({geojson:t})})})},{key:"render",value:function(){var e=this.props.country,t=this.state.geojson;return r.a.createElement(it,{country:e,countryGeoJSON:t})}}]),t}(a.Component);function st(e){var t=e.country;if(!t||t.disabled)return r.a.createElement(Ee.a,{to:"/"});var n=t.alpha2Code;return r.a.createElement("div",{className:"CountryView"},r.a.createElement(Me.a,{gutter:16,style:{marginBottom:"20px"}},r.a.createElement(ke.a,{sm:24,md:18},r.a.createElement("h2",null,t.commonName),r.a.createElement("div",null,"Capital: ".concat(t.capital)),r.a.createElement("div",null,"Area: ".concat(t.area.toLocaleString()," km\xb2")),r.a.createElement("div",null,r.a.createElement(Ve,{countryCode:t.alpha2Code}))),r.a.createElement(ke.a,{sm:0,md:6},r.a.createElement("img",{style:{height:"100px"},src:"/img/flags/".concat(t.alpha3Code.toLowerCase(),".svg"),alt:"Flag of ".concat(t.commonName)}),r.a.createElement(ut,{country:t}))),r.a.createElement(Me.a,null,r.a.createElement("h3",null,"Imports/Exports"),r.a.createElement(ke.a,{md:8,sm:24},r.a.createElement(Ze,{countryCode:n,prodStatisticCode:"COAL_PRODUCTION_MTOE",consoStatisticCode:"COAL_CONSUMPTION_MTOE",fuel:"Coal"})),r.a.createElement(ke.a,{md:8,sm:24},r.a.createElement(Ze,{countryCode:n,prodStatisticCode:"OIL_PRODUCTION_MTOE",consoStatisticCode:"OIL_CONSUMPTION_MTOE",fuel:"Oil"})),r.a.createElement(ke.a,{md:8,sm:24},r.a.createElement(Ze,{countryCode:n,prodStatisticCode:"GAS_PRODUCTION_MTOE",consoStatisticCode:"GAS_CONSUMPTION_MTOE",fuel:"Gas"}))))}st.defaultProps={country:null};var lt=Object(i.b)(function(e,t){return{country:j(t.match.params.countryCode,e)}})(st),dt=n(190);function pt(e){var t=e.loadFunctions,n=e.isLoadedSelector,o=void 0===n?function(){return!1}:n,c=e.mapStateToProps,u=void 0===c?function(){}:c,s=function(e){return function(n,a){return t.map(function(t){return t(e)(n,a)})}};return function(e){var t=e?Object(i.b)(u)(e):function(){return null};return Object(i.b)(function(e,t){return{isLoaded:o(t,e)}},{load:s})(function(e){function n(){return Object(ge.a)(this,n),Object(je.a)(this,Object(Ne.a)(n).apply(this,arguments))}return Object(Ie.a)(n,e),Object(Se.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.load;e.isLoaded;t(Object(dt.a)(e,["load","isLoaded"]))}},{key:"render",value:function(){var e=this.props,n=e.isLoaded,a=(e.load,Object(dt.a)(e,["isLoaded","load"]));return n?r.a.createElement(t,a):null}}]),n}(a.Component))}}var mt=pt({loadFunctions:[function(){return function(e){return e({type:v}),C().then(function(t){return e(E({data:Object(m.b)(Object(m.g)("alpha2Code"),t)}))}).catch(function(t){return e(E({errors:t}))})}}]})(),ft=pt({loadFunctions:[function(){return function(e){return e({type:G}),Promise.resolve(H).then(function(t){var n=t.map(function(e){return Object(p.a)({},e,{values:{}})});e(q({data:Object(m.b)(Object(m.g)("code"),n)}))}).catch(function(t){return e(q({errors:t}))})}}]})();var yt=Object(be.a)(Object(i.b)(function(e){return{isReady:g(e)&&ee(e),countries:S(e)}})(function(e){var t=e.isReady,n=e.countries,a=e.history;return r.a.createElement("div",{className:"AppLayout"},r.a.createElement(mt,null),r.a.createElement(ft,null),!t&&r.a.createElement(Oe.a,{size:"large"}),t&&r.a.createElement(me.a,null,r.a.createElement(me.a.Header,{style:{position:"fixed",zIndex:10,width:"100%"}},r.a.createElement(ye.a,{mode:"horizontal",theme:"dark",selectable:!1,style:{lineHeight:"64px"}},r.a.createElement(ye.a.Item,{key:"home"},r.a.createElement(Ce.a,{to:"/home"},r.a.createElement("strong",null,"Home"))),r.a.createElement(ye.a.Item,null,r.a.createElement(fe.a,{style:{width:"20vw"},placeholder:"Countries",optionFilterProp:"title",showSearch:!0,onSelect:function(e){a.push("/country/".concat(e))}},Object(m.h)(Object(m.g)("commonName"),n).map(function(e){return r.a.createElement(fe.a.Option,{key:e.alpha2Code,disabled:e.disabled,title:"".concat(e.commonName," (").concat(e.alpha3Code,")")},"".concat(e.commonName).concat(e.disabled?" (No data)":""))}))))),r.a.createElement(me.a.Content,{style:{padding:"20px 50px 0 50px",marginTop:64}},r.a.createElement(ve.a,null,r.a.createElement(he.a,{path:"/home",exact:!0,component:Te}),r.a.createElement(he.a,{path:"/country/:countryCode",exact:!0,component:lt}),r.a.createElement(he.a,{component:function(){return r.a.createElement(Ee.a,{to:{pathname:"/home"}})}}))),r.a.createElement(me.a.Footer,null,"Sources: IEA & EIA")))}));var Ot=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.a,{store:pe},r.a.createElement(u.a,null,r.a.createElement(yt,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Ot,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[268,2,1]]]);
//# sourceMappingURL=main.0e1832d5.chunk.js.map