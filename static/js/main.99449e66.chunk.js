(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{334:function(e,t,a){e.exports=a(596)},339:function(e,t,a){},596:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(14),i=a.n(o),c=(a(339),a(37)),u=a(607),s=a(110),l=a(303),d=a(304),p=a(26),m=a(23),f=a(327),C=a(239),O=a(240),y=["AD","LI","MH","FM","MC","PW","SM","TV","VA"];function v(e){var t=O.objects.countries.geometries.find(function(t){return t.id===e.ccn3});return{id:Number(e.ccn3),alpha2Code:e.cca2,commonName:e.name.common,alpha3Code:e.cca3,numericCode:e.ccn3,region:e.region,subregion:e.subregion,isIndependent:e.independent,area:e.area,capital:e.capital[0],latlng:e.latlng,disabled:y.includes(e.cca2),geojson:t&&Object(f.a)(O,t)}}var h=function(){return Promise.resolve(C.filter(function(e){return e.independent}).map(v))},b="COUNTRIES_LOAD_ACTION",E="COUNTRIES_RECEIVE_ACTION";function g(e){var t=e.data,a=e.errors;return{type:E,data:t,errors:a}}var S={loading:!1,loaded:!1,errors:null,data:{}};function N(e){return e.countries.loaded}function j(e){return Object(m.i)(e.countries.data)}function I(e,t){return t.countries.data[e]}var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(p.a)({},e,{loading:!0});case E:return Object(p.a)({},e,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data||{}});default:return e}},M=a(77),_=a(19);function k(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return fetch(e,t).then(function(e){return e.json()}).catch(function(n){if(a>3)throw n;return new Promise(function(n,r){setTimeout(function(){console.log("Retry ".concat(e)),k(e,t,a+1).then(n).catch(r)},3e3)})})}a(344);var A=a(137),P=a.n(A),w=a(170),L="20cf4469dcd5b4da5fc7cb448d9d934e",U="EIA_API";function Y(e){return"(s)"===e?0:isNaN(e)?null:e}function x(){return(x=Object(w.a)(P.a.mark(function e(t,a){var n,r;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.seriesOfCountry(a),e.next=3,k("http://api.eia.gov/series/?api_key=".concat(L,"&series_id=").concat(n));case 3:if(!((r=e.sent).data&&r.data.error&&r.data.error.startsWith("invalid series_id"))){e.next=6;break}return e.abrupt("return",[]);case 6:return e.abrupt("return",r.series[0].data.map(function(e){var a=Y(e[1]);return{year:Number(e[0]),value:null!==a?t.unitConverter(a):null}}));case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var R="IEA_API",D={};var F="WORLD_BANK_API";function B(){return(B=Object(w.a)(P.a.mark(function e(t,a){var n,r,o,i;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.worldBankCode,r=t.unitConverter,o=void 0===r?function(e){return e}:r,e.next=3,k("http://api.worldbank.org/v2/countries/".concat(a.alpha2Code,"/indicators/").concat(n,"?format=json&per_page=100"));case 3:if((i=e.sent)[1]){e.next=6;break}return e.abrupt("return",[]);case 6:return e.abrupt("return",i[1].map(function(e){return{statisticCode:t.code,countryCode:a.alpha2Code,year:Number(e.date),value:o(e.value)}}));case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function W(e){return e/11.63}function K(e){return e/.38}var G=[{code:"COAL_PRODUCTION_MTOE",name:"Coal production",description:"",startingYear:1980,endingYear:2016,unit:"Mtoe",baseUnit:"toe",unitFactor:Math.pow(10,6),sources:"EIA, U.S. Energy Information Administration",api:U,seriesOfCountry:function(e){return"INTL.7-1-".concat(e.alpha3Code,"-MTOE.A")},unitConverter:function(e){return Number(e.toFixed(2))}},{code:"COAL_CONSUMPTION_MTOE",name:"Coal consumption",description:"",startingYear:1980,endingYear:2016,unit:"Mtoe",baseUnit:"toe",unitFactor:Math.pow(10,6),sources:"EIA, U.S. Energy Information Administration",api:U,seriesOfCountry:function(e){return"INTL.7-2-".concat(e.alpha3Code,"-MTOE.A")},unitConverter:function(e){return Number(e.toFixed(2))}},{code:"GAS_PRODUCTION_MTOE",name:"Gas production",description:"",startingYear:1980,endingYear:2017,unit:"Mtoe",baseUnit:"toe",unitFactor:Math.pow(10,6),sources:"EIA, U.S. Energy Information Administration",api:U,seriesOfCountry:function(e){return"INTL.26-1-".concat(e.alpha3Code,"-MTOE.A")},unitConverter:function(e){return Number(e.toFixed(2))}},{code:"GAS_CONSUMPTION_MTOE",name:"Gas consumption",description:"",startingYear:1980,endingYear:2017,unit:"Mtoe",baseUnit:"toe",unitFactor:Math.pow(10,6),sources:"EIA, U.S. Energy Information Administration",api:U,seriesOfCountry:function(e){return"INTL.26-2-".concat(e.alpha3Code,"-MTOE.A")},unitConverter:function(e){return Number(e.toFixed(2))}},{code:"OIL_PRODUCTION_MTOE",name:"Oil production",description:"",startingYear:1973,endingYear:2014,unit:"Mtoe",baseUnit:"toe",unitFactor:Math.pow(10,6),sources:"IEA",api:R,ieaId:"-21319742"},{code:"OIL_CONSUMPTION_MTOE",name:"Oil consumption",description:"",startingYear:1973,endingYear:2014,unit:"Mtoe",baseUnit:"toe",unitFactor:Math.pow(10,6),sources:"IEA",api:R,ieaId:"642753284"},{code:"HYDRO_CONSUMPTION_MTOE",name:"Hydroelectricity consumption",description:"",startingYear:1980,endingYear:2016,unit:"Mtoe",baseUnit:"toe",unitFactor:Math.pow(10,6),sources:"EIA, U.S. Energy Information Administration",api:U,seriesOfCountry:function(e){return"INTL.33-12-".concat(e.alpha3Code,"-BKWH.A")},unitConverter:function(e){return Number(K(W(e)).toFixed(2))}},{code:"NUCLEAR_CONSUMPTION_MTOE",name:"Nuclear consumption",description:"",startingYear:1980,endingYear:2016,unit:"Mtoe",baseUnit:"toe",unitFactor:Math.pow(10,6),sources:"EIA, U.S. Energy Information Administration",api:U,seriesOfCountry:function(e){return"INTL.27-12-".concat(e.alpha3Code,"-BKWH.A")},unitConverter:function(e){return Number(K(W(e)).toFixed(2))}},{code:"NON_HYDRO_RENEWABLES_CONSUMPTION_MTOE",name:"Non-Hydroelectric renewables consumption",description:"",startingYear:1980,endingYear:2016,unit:"Mtoe",baseUnit:"toe",unitFactor:Math.pow(10,6),sources:"EIA, U.S. Energy Information Administration",api:U,seriesOfCountry:function(e){return"INTL.34-12-".concat(e.alpha3Code,"-BKWH.A")},unitConverter:function(e){return Number(K(W(e)).toFixed(2))}},{code:"WASTE_BIOMASS_CONSUMPTION_MTOE",name:"Waste and biomass consumption",description:"",startingYear:1980,endingYear:2016,unit:"Mtoe",baseUnit:"toe",unitFactor:Math.pow(10,6),sources:"EIA, U.S. Energy Information Administration",api:U,seriesOfCountry:function(e){return"INTL.38-12-".concat(e.alpha3Code,"-BKWH.A")},unitConverter:function(e){return Number(K(W(e)).toFixed(2))}},{code:"PRIMARY_ENERGY_MTOE",name:"Primary energy consumption",description:"",startingYear:1980,endingYear:2013,unit:"Mtoe",baseUnit:"toe",unitFactor:Math.pow(10,6),sources:"EIA, U.S. Energy Information Administration",api:U,seriesOfCountry:function(e){return"INTL.44-2-".concat(e.alpha3Code,"-MTOE.A")},unitConverter:function(e){return Number(e.toFixed(2))}},{code:"POPULATION",name:"Population",description:"",startingYear:1960,endingYear:2017,unit:"capita",sources:"World Bank",api:F,worldBankCode:"SP.POP.TOTL"},{code:"GDP_2010_USD",name:"Gross Domestic Product",description:"",startingYear:1960,endingYear:2017,unit:"million 2010 USD",baseUnit:"2010 $",unitFactor:Math.pow(10,6),sources:"World Bank",api:F,worldBankCode:"NY.GDP.MKTP.KD",unitConverter:function(e){return Number((e/Math.pow(10,6)).toFixed(2))}},{code:"CO2_EMISSIONS_GT",name:"CO2 Emissions",description:"",startingYear:1960,endingYear:2014,unit:"Mtonnes",baseUnit:"tonnes",unitFactor:Math.pow(10,6),sources:"World Bank",api:F,worldBankCode:"EN.ATM.CO2E.KT",unitConverter:function(e){return Number((e/Math.pow(10,3)).toFixed(2))}}];function H(e,t){switch(e.api){case U:return function(e,t){return x.apply(this,arguments)}(e,t);case R:return function(e,t){var a=e.ieaId;return D[a]||(D[a]=k("http://energyatlas.iea.org/DataServlet?edition=WORLD&lang=en&datasets=".concat(a,"&cmd=getdatavalues")).then(function(e){return e.datasets[a].values}).then(function(e){return Object.keys(e).reduce(function(t,a){var n=e[a];return Object.keys(n).reduce(function(e,t){var r=n[t].value,o={year:Number(a),value:r};return e[t]?e[t].push(o):e[t]=[o],e},t)},{})})),D[a].then(function(e){return e[t.alpha3Code]||[]})}(e,t);case F:return function(e,t){return B.apply(this,arguments)}(e,t);default:return Promise.resolve([])}}var q="STATISTICS_LOAD_ACTION",z="STATISTICS_RECEIVE_ACTION",V="COUNTRY_STATISTIC_LOAD_ACTION",J="COUNTRY_STATISTIC_RECEIVE_ACTION",$="STATISTIC_LOAD_ALL_COUNTRIES_ACTION",Q="STATISTIC_RECEIVE_ALL_COUNTRIES_ACTION";function X(e){var t=e.data,a=e.errors;return{type:z,data:t,errors:a}}function Z(e){var t=e.countryCode,a=e.statisticCode,n=e.data,r=e.errors;return{type:J,countryCode:t,statisticCode:a,data:n,errors:r}}function ee(e){var t=e.statisticCode,a=e.countries,n=e.data,r=e.errors;return{type:Q,countries:a,statisticCode:t,data:n,errors:r}}var te={loading:!0,loaded:!1,errors:null,values:[]};function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;switch(t.type){case J:return{loading:!1,loaded:!t.errors,errors:t.errors||null,values:t.data||[]};case Q:return{loading:!1,loaded:!t.errors,errors:t.errors||null,values:t.data&&t.data.filter(function(e){return e.countryCode===a}).map(Object(m.f)(["countryCode"]))||[]};default:return e}}var ne={loading:!1,loaded:!1,errors:null,data:{}};function re(e){return e.statistics.loaded}function oe(e){return Object(m.i)(e.statistics.data)}function ie(e,t){return t.statistics.data[e]}function ce(e,t){var a=e.statisticCode,n=e.countryCode;return ie(a,t).values[n]}function ue(e,t){var a=ce({statisticCode:e.statisticCode,countryCode:e.countryCode},t);return!!a&&a.loaded}function se(e,t){var a=e.statisticCodes,n=e.countryCode;return a.every(function(e){return ue({statisticCode:e,countryCode:n},t)})}function le(e,t){var a,n=e.mapOfStatisticCodes,r=e.countryCode,o=Object(m.c)(function(e){return function(e,t){var a=ce({statisticCode:e.statisticCode,countryCode:e.countryCode},t);return a?a.values:[]}({statisticCode:e,countryCode:r},t)},n),i=Object(m.i)(o),c=i.map(function(e){return Math.min.apply(Math,Object(M.a)(e.map(function(e){return e.year})))}),u=i.map(function(e){return Math.max.apply(Math,Object(M.a)(e.map(function(e){return e.year})))}),s=Math.max.apply(Math,Object(M.a)(c)),l=Math.min.apply(Math,Object(M.a)(u)),d=Object(m.d)(function(e,t){return e.map(function(e){var a=e.year,n=e.value;return Object(_.a)({year:a},t,n)})},o),p=(a=[]).concat.apply(a,Object(M.a)(Object(m.i)(d))),f=Object(m.a)(function(e){return e.year},p);return Object.keys(f).sort().map(function(e){var t=f[e];return Object(m.e)(t)}).filter(function(e){return s<=e.year&&e.year<=l})}function de(e,t){var a=e.statisticCode,n=e.year,r=e.perCapita,o=j(t),i=ie(a,t),c=Object(p.a)({value:a},r?{pop:"POPULATION"}:{});return o.map(function(e){var a=e.alpha2Code,o=le({mapOfStatisticCodes:c,countryCode:a},t).find(function(e){return e.year===n});return{countryCode:a,value:!o||null===o.value||!o.pop&&r?null:r?o.value*i.unitFactor/o.pop:o.value}})}function pe(e){var t=e.statisticCode,a=e.countryCode;return function(e,n){var r=n(),o=ie(t,r),i=I(a,r);ue({statisticCode:t,countryCode:a},r)||(e(function(e,t){return{type:V,statisticCode:e,countryCode:t}}(t,a)),H(o,i).then(function(n){var r=n.map(function(e){return{year:e.year,value:e.value}});e(Z({countryCode:a,statisticCode:t,data:r}))}).catch(function(n){return e(Z({statisticCode:t,countryCode:a,errors:n}))}))}}function me(e){var t=e.statisticCodes,a=e.countryCode;return function(e,n){return Promise.all(t.map(function(t){return pe({statisticCode:t,countryCode:a})(e,n)}))}}function fe(e){return function(t,a){var n=j(a());n.every(function(t){return ue({statisticCode:e,countryCode:t.alpha2Code},a())})||(t(function(e,t){return{type:$,statisticCode:e,countries:t}}(e,n)),function(e){return k("data/".concat(e,".json"))}(e).then(function(a){return t(ee({statisticCode:e,countries:n,data:a}))}).catch(function(a){return t(ee({statisticCode:e,countries:n,errors:a}))}))}}var Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(p.a)({},e,{loading:!0});case z:return Object(p.a)({},e,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data||{}});case V:case J:var a=e.data[t.statisticCode],n=a.values[t.countryCode];return Object(p.a)({},e,{data:Object(p.a)({},e.data,Object(_.a)({},t.statisticCode,Object(p.a)({},a,{values:Object(p.a)({},a.values,Object(_.a)({},t.countryCode,ae(n,t)))})))});case $:var r=e.data[t.statisticCode];return Object(p.a)({},e,{data:Object(p.a)({},e.data,Object(_.a)({},t.statisticCode,Object(p.a)({},r,{values:Object(p.a)({},r.values,t.countries.reduce(function(e,a){return Object(p.a)({},e,Object(_.a)({},a.alpha2Code,ae(void 0,t,a.alpha2Code)))},{}))})))});case Q:var o=e.data[t.statisticCode];return Object(p.a)({},e,{data:Object(p.a)({},e.data,Object(_.a)({},t.statisticCode,Object(p.a)({},o,{values:Object(p.a)({},o.values,t.countries.reduce(function(e,a){return Object(p.a)({},e,Object(_.a)({},a.alpha2Code,ae(o.values[a.alpha2Code],t,a.alpha2Code)))},{}))})))});default:return e}},Oe=Object(s.combineReducers)({countries:T,statistics:Ce}),ye=[Object(s.applyMiddleware)(d.a)],ve=Object(l.composeWithDevTools)({}).apply(void 0,ye),he=Object(s.createStore)(Oe,ve),be=(a(348),a(152)),Ee=(a(154),a(94)),ge=a(608),Se=a(611),Ne=a(602),je=a(606),Ie=(a(245),a(151)),Te=(a(247),a(86)),Me=a(66),_e=a(57),ke=a(73),Ae=a(67),Pe=a(72),we=a(79),Le=a(603),Ue=a(604),Ye=a(609),xe=a(0),Re=a.n(xe),De=(Re.a.shape({alpha2Code:Re.a.string.isRequired,alpha3Code:Re.a.string.isRequired,commonName:Re.a.string.isRequired,capital:Re.a.string.isRequired,area:Re.a.number.isRequired,latlng:Re.a.arrayOf(Re.a.number).isRequired,geojson:Re.a.object}),Re.a.shape({name:Re.a.string.isRequired,unit:Re.a.string.isRequired,baseUnit:Re.a.string.isRequired,perCapita:Re.a.bool,startingYear:Re.a.number.isRequired,endingYear:Re.a.number.isRequired}),Re.a.arrayOf(Re.a.shape({year:Re.a.number.isRequired,value:Re.a.number.isRequired})),a(329)),Fe=a(36),Be=a.n(Fe);function We(e){var t=Object(De.a)(e,2),a=t[0],n=t[1];return a<-168.51?Be.a.latLng(n,360+a):Be.a.latLng(n,a).wrap()}var Ke=C.filter(function(e){return!e.independent}).map(v),Ge="540px",He="rgb(107, 185, 240)",qe="#777",ze="linear-gradient(to right, ".concat(He,", ").concat("#001529",")"),Ve=Object(we.c)(He,"#001529"),Je=function(e){return Math.log(e)};var $e=function(e){var t=e.countries,a=e.data,n=e.currentStatistic,o=e.currentYear,i=e.perCapita,c=Math.max.apply(Math,Object(M.a)(a.map(function(e){return e.value}))),u=function(e){var t=Math.max.apply(Math,Object(M.a)(e.map(function(e){return e.value}))),a=Math.min.apply(Math,Object(M.a)(e.filter(function(e){return e.value}).map(function(e){return e.value}))),n=Object(m.c)(function(e){return e.value},Object(m.b)(function(e){return e.countryCode},e));return Object(m.c)(function(e){return null===e||void 0===e?{color:qe,value:"NA"}:0===e?{color:He,value:0}:{color:Ve(Je(e/a)/Je(t/a)),value:e}},n)}(a);return r.a.createElement("div",{className:"WorldMap"},r.a.createElement("div",{className:"WorldMap__yearLabel"},o),r.a.createElement(Le.a,{zoom:1,center:[0,0],style:{height:Ge,zIndex:0},maxBounds:[[90,-180],[-90,180]]},t.map(function(e){var t=u[e.alpha2Code],a=t.value,o=t.color;return r.a.createElement(Ue.a,{key:e.alpha2Code+n.code,data:e.geojson,coordsToLatLng:We,ref:function(e){return e&&e.leafletElement.setStyle({color:o,fillColor:o,fillOpacity:1})}},r.a.createElement(Ye.a,{sticky:!0},"".concat(e.commonName,": ").concat(a.toLocaleString())))}),Ke.map(function(e){return r.a.createElement(Ue.a,{key:e.alpha2Code,data:e.geojson,style:{fillOpacity:1,stroke:!1,fillColor:qe,color:qe}})})),r.a.createElement("div",{className:"WorldMap__legend"},r.a.createElement("div",{className:"WorldMap__legend__gradient"},r.a.createElement("div",null,"".concat(n.name," (").concat(i?"".concat(n.baseUnit,"/capita"):n.unit,")")),r.a.createElement("div",{className:"WorldMap__legend__gradientColor",style:{background:ze}}),r.a.createElement("div",{className:"WorldMap__legend__gradientRange"},r.a.createElement("div",null,"0"),r.a.createElement("div",null,c.toLocaleString()))),r.a.createElement("div",null,r.a.createElement("div",null,"\xa0"),r.a.createElement("div",{className:"WorldMap__legend__NA__square",style:{backgroundColor:qe}}),r.a.createElement("div",null,"NA"))))},Qe=(a(597),a(326)),Xe=(a(206),a(48)),Ze=(a(371),a(328)),et=(a(207),a(63));var tt=function(e){var t,a=e.data,n=e.countries,o=e.statistics,i=e.currentStatistic,c=e.currentYear,u=e.perCapita,s=e.onRowClick,l=e.setStatistic,d=e.setYear,p=e.setPerCapita,f=a.filter(function(e){return null!==e.value}).map(function(e){return{countryCode:e.countryCode,country:n.find(function(t){return t.alpha2Code===e.countryCode}).commonName,value:e.value}});return r.a.createElement("div",{className:"StatisticExplorer"},r.a.createElement(et.a,{style:{width:"100%"},placeholder:"Statistics",optionFilterProp:"title",value:i.code,showSearch:!0,onChange:function(e){return l(e)}},Object(m.h)(function(e){return e.name},o).map(function(e){return r.a.createElement(et.a.Option,{key:e.code,title:e.name},"".concat(e.name))})),r.a.createElement(Ze.a,{className:"hideOnMobile",value:c,min:i.startingYear,max:i.endingYear,onChange:function(e){return d(e)},included:!1,marks:(t={},Object(_.a)(t,i.startingYear,{style:{},label:"".concat(i.startingYear)}),Object(_.a)(t,i.endingYear,{style:{width:"auto",margin:"auto",left:"",right:"-15px"},label:"".concat(i.endingYear)}),t)}),r.a.createElement(Xe.a.Group,{style:{marginBottom:"10px"},buttonStyle:"solid",size:"small",value:u,onChange:function(e){return p(e.target.value)}},r.a.createElement(Xe.a.Button,{value:!1},"Absolute"),r.a.createElement(Xe.a.Button,{value:!0,disabled:"POPULATION"===i.code},"Per capita")),r.a.createElement(Qe.a,{className:"hideOnMobile",rowKey:"countryCode",size:"small",pagination:!1,dataSource:f,scroll:{y:380},columns:[{title:"Country",dataIndex:"country",sorter:function(e,t){return e.country.localeCompare(t.country)},width:"auto",render:function(e){return r.a.createElement("a",{href:"javascript:;"},e)}},{title:u?"".concat(i.baseUnit,"/capita"):i.unit,dataIndex:"value",defaultSortOrder:"descend",sorter:function(e,t){return e.value-t.value},render:function(e){return e.toLocaleString()},align:"right"}],onRow:function(e){return{onClick:function(){return s(e)}}}}))},at=Object(c.b)(function(e,t){var a=t.statisticCode,n=t.currentYear,r=t.perCapita;return{countries:j(e),currentStatistic:ie(a,e),data:de({statisticCode:a,year:n,perCapita:r},e)}})($e),nt=Object(c.b)(function(e,t){var a=t.statisticCode,n=t.currentYear,r=t.perCapita;return{countries:j(e),statistics:oe(e),currentStatistic:ie(a,e),data:de({statisticCode:a,year:n,perCapita:r},e)}})(tt),rt=function(e){function t(){var e;return Object(Me.a)(this,t),(e=Object(ke.a)(this,Object(Ae.a)(t).call(this))).state={statisticCode:"PRIMARY_ENERGY_MTOE",currentYear:2010,perCapita:!1},e}return Object(Pe.a)(t,e),Object(_e.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.statisticCode;(0,this.props.loadStatistic)(e)}},{key:"setStatistic",value:function(e){(0,this.props.loadStatistic)(e);var t=Object(p.a)({statisticCode:e},"POPULATION"===e?{perCapita:!1}:{});this.setState(t)}},{key:"setYear",value:function(e){this.setState({currentYear:e})}},{key:"setPerCapita",value:function(e){var t=this.props.loadStatistic;e&&t("POPULATION"),this.setState({perCapita:e})}},{key:"render",value:function(){var e=this,t=this.props.history.push,a=this.state,n=a.currentYear,o=a.statisticCode,i=a.perCapita;return r.a.createElement("div",{className:"HomeView"},r.a.createElement(Ie.a,{gutter:{md:20}},r.a.createElement(Te.a,{md:16},r.a.createElement(at,{statisticCode:o,currentYear:n,perCapita:i})),r.a.createElement(Te.a,{md:8},r.a.createElement(nt,{statisticCode:o,currentYear:n,perCapita:i,onRowClick:function(e){return t("country/".concat(e.countryCode))},setYear:function(t){return e.setYear(t)},setStatistic:function(t){return e.setStatistic(t)},setPerCapita:function(t){return e.setPerCapita(t)}}))))}}]),t}(n.Component),ot=Object(c.b)(null,{loadStatistic:fe})(rt),it=a(511),ct=a(577),ut=a(599),st=a(605),lt=a(600),dt=a(587),pt=a(588),mt=a(598),ft=a(85);function Ct(e){var t=e.active,a=e.payload;if(t&&a&&a.length>0){var n=e.label,o=a[0].unit,i=a.reduce(function(e,t){return e+t.value},0);return r.a.createElement("div",{className:"CustomTooltip"},r.a.createElement("div",null,n),r.a.createElement("div",null,a&&a.map(function(e){return r.a.createElement("div",{key:e.dataKey,style:{lineHeight:"22px",color:e.color}},"".concat(e.name," : ").concat(e.value.toLocaleString()," ").concat(e.unit))}),r.a.createElement("div",{key:"total",style:{lineHeight:"22px",color:"red"}},"Total : ".concat(Number(i.toFixed(2)).toLocaleString()," ").concat(o))))}return null}Ct.defaultProps={label:""};var Ot=function(e){var t=e.data,a=e.stacked,n=e.setStacked,o=e.perCapita,i=e.setPerCapita,c=o?" toe/capita":" Mtoe",u=t.map(function(e){return Object(p.a)({},e,{total:Number((e.coal+e.oil+e.gas+e.hydro+e.nuclear+e.renewables).toFixed(2))})}),s=o?u.map(function(e){return Object(p.a)({},e,Object(m.c)(function(t){return Number((t*Math.pow(10,6)/e.population).toFixed(2))},Object(m.f)(["year","population"],e)))}):u,l=t.some(function(e){return e.coal>=.01}),d=t.some(function(e){return e.oil>=.01}),f=t.some(function(e){return e.gas>=.01}),C=t.some(function(e){return e.nuclear>=.01}),O=t.some(function(e){return e.hydro>=.01}),y=t.some(function(e){return e.renewables>=.01}),v=a?it.a:ct.a;return r.a.createElement("div",{className:"PrimaryEnergyChart"},r.a.createElement("h3",{className:"PrimaryEnergyChart__title"},"Primary Energy Consumption"),r.a.createElement("div",null,r.a.createElement(Xe.a.Group,{buttonStyle:"solid",size:"small",value:a,onChange:function(e){return n(e.target.value)},style:{marginRight:"10px"}},r.a.createElement(Xe.a.Button,{value:!0},"Stacked"),r.a.createElement(Xe.a.Button,{value:!1},"Split")),r.a.createElement(Xe.a.Group,{buttonStyle:"solid",size:"small",value:o,onChange:function(e){return i(e.target.value)}},r.a.createElement(Xe.a.Button,{value:!1},"Absolute"),r.a.createElement(Xe.a.Button,{value:!0},"Per capita"))),r.a.createElement(ut.a,{height:300,width:"100%"},r.a.createElement(st.a,{data:s,margin:{top:10,right:0,bottom:10,left:0}},l&&r.a.createElement(v,{type:"monotone",dataKey:"coal",dot:!1,activeDot:!1,name:"Coal",stroke:"black",fill:"black",stackId:"1",unit:c}),d&&r.a.createElement(v,{type:"monotone",dataKey:"oil",dot:!1,activeDot:!1,name:"Oil",stroke:"grey",fill:"grey",stackId:"1",unit:c}),f&&r.a.createElement(v,{type:"monotone",dataKey:"gas",dot:!1,activeDot:!1,name:"Gas",stroke:"orange",fill:"orange",stackId:"1",unit:c}),C&&r.a.createElement(v,{type:"monotone",dataKey:"nuclear",dot:!1,activeDot:!1,name:"Nuclear",stroke:"purple",fill:"purple",stackId:"1",unit:c}),O&&r.a.createElement(v,{type:"monotone",dataKey:"hydro",dot:!1,activeDot:!1,name:"Hydroelectricity",stroke:"blue",fill:"blue",stackId:"1",unit:c}),y&&r.a.createElement(v,{type:"monotone",dataKey:"renewables",dot:!1,activeDot:!1,name:"Other renewables",stroke:"green",fill:"green",stackId:"1",unit:c}),r.a.createElement(lt.a,{stroke:"#ccc",opacity:.2}),r.a.createElement(dt.a,{dataKey:"year",interval:4}),r.a.createElement(pt.a,{label:{value:c,angle:-90,position:"insideLeft"}}),r.a.createElement(mt.a,{content:Ct}),r.a.createElement(ft.a,{iconType:"circle"}))))},yt={coal:"COAL_CONSUMPTION_MTOE",gas:"GAS_CONSUMPTION_MTOE",oil:"OIL_CONSUMPTION_MTOE",hydro:"HYDRO_CONSUMPTION_MTOE",nuclear:"NUCLEAR_CONSUMPTION_MTOE",renewables:"NON_HYDRO_RENEWABLES_CONSUMPTION_MTOE",population:"POPULATION"},vt=Object(m.i)(yt),ht=Object(c.b)(function(e,t){var a=t.countryCode;return{data:le({mapOfStatisticCodes:yt,countryCode:a},e)}})(Ot),bt=function(e){function t(){var e;return Object(Me.a)(this,t),(e=Object(ke.a)(this,Object(Ae.a)(t).call(this))).state={stacked:!0,perCapita:!1},e}return Object(Pe.a)(t,e),Object(_e.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.countryCode;(0,e.loadStatistics)({statisticCodes:vt,countryCode:t})}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.countryCode,n=t.loadStatistics;a!==e.countryCode&&n({statisticCodes:vt,countryCode:a})}},{key:"setStacked",value:function(e){this.setState({stacked:e})}},{key:"setPerCapita",value:function(e){this.setState({perCapita:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.isLoaded,n=t.countryCode,o=this.state,i=o.stacked,c=o.perCapita;return r.a.createElement(Ee.a,{spinning:!a},r.a.createElement(ht,{countryCode:n,setStacked:function(t){return e.setStacked(t)},setPerCapita:function(t){return e.setPerCapita(t)},stacked:i,perCapita:c}))}}]),t}(n.Component),Et=Object(c.b)(function(e,t){return{isLoaded:se({statisticCodes:vt,countryCode:t.countryCode},e)}},{loadStatistics:me})(bt);function gt(e){if(e.active){var t=e.payload,a=e.label,n=e.filter;return r.a.createElement("div",{className:"CustomTooltip"},r.a.createElement("div",null,a),r.a.createElement("div",null,t&&t.filter(n).map(function(e){return r.a.createElement("div",{key:e.dataKey,style:{lineHeight:"22px",color:e.color}},"".concat(e.name," : ").concat(e.value.toLocaleString()," ").concat(e.unit))})))}return null}gt.defaultProps={label:"",filter:function(e){return e}};var St=function(e){var t=e.fuel,a=e.prodStatistic,n=e.consoStatistic,o=e.data;n.unit!==a.unit&&console.warn("Production and consommation have not the same unit",[a.code,n.code]);var i=n.unit,c=o.map(function(e){var t=Number((e.prod-e.conso).toFixed(2));return{year:e.year,prod:e.prod,conso:e.conso,export:t>0?t:null,import:t<0?-t:null,base:Math.min(e.prod,e.conso)}});return r.a.createElement("div",{className:"ProdConsoChart"},r.a.createElement("h3",null,t),r.a.createElement(ut.a,{height:250,width:"100%"},r.a.createElement(st.a,{data:c,margin:{top:30,right:20,bottom:5,left:20}},r.a.createElement(it.a,{type:"monotone",dot:!1,dataKey:"base",stroke:"none",stackId:"1",activeDot:!1,fill:"none",unit:i}),r.a.createElement(it.a,{type:"monotone",dot:!1,unit:i,name:"".concat(t," export"),dataKey:"export",activeDot:!1,stroke:"green",strokeOpacity:0,fillOpacity:1,fill:"green",stackId:"1"}),r.a.createElement(it.a,{type:"monotone",dot:!1,unit:i,name:"".concat(t," import"),dataKey:"import",activeDot:!1,stroke:"red",strokeOpacity:0,fillOpacity:1,fill:"red",stackId:"1"}),r.a.createElement(ct.a,{type:"monotone",dataKey:"conso",dot:!1,unit:i,stroke:"#880000",strokeWidth:3,name:n.name}),r.a.createElement(ct.a,{type:"monotone",dataKey:"prod",dot:!1,unit:i,stroke:"black",strokeWidth:3,strokeOpacity:.7,name:a.name}),r.a.createElement(lt.a,{stroke:"#ccc",opacity:.2}),r.a.createElement(dt.a,{dataKey:"year",interval:9}),r.a.createElement(pt.a,{label:{value:i,position:"insideTopLeft",offset:-20}}),r.a.createElement(mt.a,{content:function(e){return r.a.createElement(gt,Object.assign({},e,{filter:function(e){return"base"!==e.name}}))}}))))},Nt=Object(c.b)(function(e,t){return{prodStatistic:ie(t.prodStatisticCode,e),consoStatistic:ie(t.consoStatisticCode,e),data:le({mapOfStatisticCodes:{prod:t.prodStatisticCode,conso:t.consoStatisticCode},countryCode:t.countryCode},e)}})(St),jt=function(e){function t(){return Object(Me.a)(this,t),Object(ke.a)(this,Object(Ae.a)(t).apply(this,arguments))}return Object(Pe.a)(t,e),Object(_e.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.consoStatisticCode,a=e.prodStatisticCode,n=e.countryCode;(0,e.loadStatistics)({statisticCodes:[t,a],countryCode:n})}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.countryCode,n=t.loadStatistics,r=[t.consoStatisticCode,t.prodStatisticCode];a!==e.countryCode&&n({statisticCodes:r,countryCode:a})}},{key:"render",value:function(){var e=this.props,t=e.isLoaded,a=e.fuel,n=e.consoStatisticCode,o=e.prodStatisticCode,i=e.countryCode;return r.a.createElement(Ee.a,{spinning:!t},r.a.createElement(Nt,{fuel:a,consoStatisticCode:n,prodStatisticCode:o,countryCode:i}))}}]),t}(n.Component),It=Object(c.b)(function(e,t){return{isLoaded:se({statisticCodes:[t.prodStatisticCode,t.consoStatisticCode],countryCode:t.countryCode},e)}},{loadStatistics:me})(jt),Tt=a(68),Mt=a(610),_t=function(e){function t(){return Object(Me.a)(this,t),Object(ke.a)(this,Object(Ae.a)(t).apply(this,arguments))}return Object(Pe.a)(t,e),Object(_e.a)(t,[{key:"componentDidMount",value:function(){this.createGeoJSON()}},{key:"componentDidUpdate",value:function(e){var t=this.props.data;e.data!==t&&(this.geojson.remove(),this.createGeoJSON())}},{key:"createGeoJSON",value:function(){var e=this.props,t=e.leaflet.map,a=e.data;this.geojson=Be.a.geoJSON(a,{coordsToLatLng:We}).addTo(t);var n=this.geojson.getBounds();t.flyToBounds(n)}},{key:"render",value:function(){return null}}]),t}(n.Component),kt=Object(Tt.b)(_t);var At=function(e){var t=e.country;return r.a.createElement("div",{className:"CountryMap"},r.a.createElement(Le.a,{center:t.latlng,zoom:2,style:{height:"300px",zIndex:0}},r.a.createElement(Mt.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.geojson&&r.a.createElement(kt,{data:t.geojson})))};function Pt(e){var t=e.country;if(!t||t.disabled)return r.a.createElement(je.a,{to:"/"});var a=t.alpha2Code;return r.a.createElement("div",{className:"CountryView"},r.a.createElement(Ie.a,{gutter:16,style:{marginBottom:"20px"}},r.a.createElement(Te.a,{xs:24,sm:24,md:18},r.a.createElement("h2",null,t.commonName),r.a.createElement("div",null,"Capital: ".concat(t.capital)),r.a.createElement("div",null,"Area: ".concat(t.area.toLocaleString()," km\xb2")),r.a.createElement("div",null,r.a.createElement(Et,{countryCode:t.alpha2Code}))),r.a.createElement(Te.a,{xs:0,sm:0,md:6},r.a.createElement("img",{style:{height:"100px"},src:"/img/flags/".concat(t.alpha3Code.toLowerCase(),".svg"),alt:"Flag of ".concat(t.commonName)}),r.a.createElement(At,{country:t}))),r.a.createElement(Ie.a,null,r.a.createElement("h3",null,"Imports/Exports"),r.a.createElement(Te.a,{md:8,sm:24},r.a.createElement(It,{countryCode:a,prodStatisticCode:"COAL_PRODUCTION_MTOE",consoStatisticCode:"COAL_CONSUMPTION_MTOE",fuel:"Coal"})),r.a.createElement(Te.a,{md:8,sm:24},r.a.createElement(It,{countryCode:a,prodStatisticCode:"OIL_PRODUCTION_MTOE",consoStatisticCode:"OIL_CONSUMPTION_MTOE",fuel:"Oil"})),r.a.createElement(Te.a,{md:8,sm:24},r.a.createElement(It,{countryCode:a,prodStatisticCode:"GAS_PRODUCTION_MTOE",consoStatisticCode:"GAS_CONSUMPTION_MTOE",fuel:"Gas"}))))}Pt.defaultProps={country:null};var wt=Object(c.b)(function(e,t){return{country:I(t.match.params.countryCode,e)}})(Pt),Lt=(a(590),a(103)),Ut=a(601),Yt=(a(593),a(21));var xt=function(){return r.a.createElement("a",{href:"https://github.com/ewoken/world-data-app",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Yt.a,{type:"github",theme:"outlined"}),"GitHub")};var Rt=function(e){var t=e.countries,a=e.goTo;return r.a.createElement(Lt.a,{mode:"horizontal",theme:"dark",selectable:!1,style:{lineHeight:"64px"}},r.a.createElement(Lt.a.Item,{key:"home"},r.a.createElement(Ut.a,{to:"/home"},r.a.createElement("strong",null,"World Energy Data"))),r.a.createElement(Lt.a.Item,null,r.a.createElement(et.a,{id:"mainCountrySelect",placeholder:"Countries",optionFilterProp:"title",showSearch:!0,onSelect:function(e){a("/country/".concat(e))}},Object(m.h)(function(e){return e.commonName},t).map(function(e){return r.a.createElement(et.a.Option,{key:e.alpha2Code,disabled:e.disabled,title:"".concat(e.commonName," (").concat(e.alpha3Code,")")},"".concat(e.commonName).concat(e.disabled?" (No data)":""))}))),r.a.createElement(Lt.a.Item,null,r.a.createElement(xt,null)))},Dt=a(244);function Ft(e){var t=e.loadFunctions,a=e.isLoadedSelector,o=void 0===a?function(){return!1}:a,i=e.mapStateToProps,u=void 0===i?function(){}:i,s=function(e){return function(a,n){return t.map(function(t){return t(e)(a,n)})}};return function(e){var t=e?Object(c.b)(u)(e):function(){return null};return Object(c.b)(function(e,t){return{isLoaded:o(t,e)}},{load:s})(function(e){function a(){return Object(Me.a)(this,a),Object(ke.a)(this,Object(Ae.a)(a).apply(this,arguments))}return Object(Pe.a)(a,e),Object(_e.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.load;e.isLoaded;t(Object(Dt.a)(e,["load","isLoaded"]))}},{key:"render",value:function(){var e=this.props,a=e.isLoaded,n=(e.load,Object(Dt.a)(e,["isLoaded","load"]));return a?r.a.createElement(t,n):null}}]),a}(n.Component))}}var Bt=Ft({loadFunctions:[function(){return function(e){return e({type:b}),h().then(function(t){return e(g({data:Object(m.b)(Object(m.g)("alpha2Code"),t)}))}).catch(function(t){return e(g({errors:t}))})}}]})(),Wt=Ft({loadFunctions:[function(){return function(e){return e({type:q}),Promise.resolve(G).then(function(t){var a=t.map(function(e){return Object(p.a)({},e,{values:{}})});e(X({data:Object(m.b)(Object(m.g)("code"),a)}))}).catch(function(t){return e(X({errors:t}))})}}]})(),Kt=(Ft({loadFunctions:[function(e){return fe(e.statisticCode)}]})(),Object(ge.a)(Object(c.b)(function(e,t){return{countries:j(e),goTo:function(e){return t.history.push(e)}}})(Rt)));var Gt=Object(ge.a)(Object(c.b)(function(e){return{isReady:N(e)&&re(e)}})(function(e){var t=e.isReady;return r.a.createElement("div",{className:"AppLayout"},r.a.createElement(Bt,null),r.a.createElement(Wt,null),!t&&r.a.createElement(Ee.a,{size:"large"}),t&&r.a.createElement(be.a,null,r.a.createElement(be.a.Header,{style:{position:"fixed",zIndex:10,width:"100%"}},r.a.createElement(Kt,null)),r.a.createElement(be.a.Content,null,r.a.createElement(Se.a,null,r.a.createElement(Ne.a,{path:"/home",exact:!0,component:ot}),r.a.createElement(Ne.a,{path:"/country/:countryCode",exact:!0,component:wt}),r.a.createElement(Ne.a,{component:function(){return r.a.createElement(je.a,{to:{pathname:"/home"}})}}))),r.a.createElement(be.a.Footer,null,"Sources: IEA & EIA, World Data Bank")))}));var Ht=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c.a,{store:he},r.a.createElement(u.a,null,r.a.createElement(Gt,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Ht,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[334,2,1]]]);
//# sourceMappingURL=main.99449e66.chunk.js.map