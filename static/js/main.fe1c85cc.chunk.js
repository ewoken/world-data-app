(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{364:function(e,t,a){e.exports=a(627)},369:function(e,t,a){},627:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(15),o=a.n(c),i=(a(369),a(40)),u=a(639),l=a(17),s=a(114),d=a(331),m=a(332),p=a(14),f=a(154),E=a.n(f),y=a(151),O=a(192),h=a(217);function C(e,t){var a=t.objects.countries.geometries.find(function(t){return t.id===e.numericCode});return Object(l.a)({},e,{geojson:a&&Object(h.a)(t,a)})}function b(){return(b=Object(O.a)(E.a.mark(function e(){var t,a,n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch("/data/countries.json"),fetch("/data/worldTopo.json")].map(function(e){return e.then(function(e){return e.json()})}));case 2:return t=e.sent,a=Object(y.a)(t,2),n=a[0],r=a[1],e.abrupt("return",n.map(function(e){return C(e,r)}));case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var v=function(){return b.apply(this,arguments)},g="COUNTRIES_LOAD_ACTION",_="COUNTRIES_RECEIVE_ACTION",j={coal:!0,oil:!0,gas:!0,hydro:!0,nuclear:!0,biofuelsWaste:!0,solarWindTideGeoth:!0};function T(e){var t=e.data,a=e.errors;return{type:_,data:t,errors:a}}var N={loading:!1,loaded:!1,errors:null,data:{}};function S(e){return e.countries.loaded}function I(e){return Object(p.l)(e.countries.data).filter(function(e){return e.isIndependent})}function k(e){return Object(p.l)(e.countries.data).filter(function(e){return!e.isIndependent})}function R(e,t){return t.countries.data[e]}function w(e,t){var a=R(e,t);return a?a.hasConsumed:j}function A(e,t){var a=R(e,t);return a?Object(p.e)(function(e,t){return e||a.hasConsumed[t]},a.hasProduced):j}var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(l.a)({},e,{loading:!0});case _:return Object(l.a)({},e,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data||{}});default:return e}},P=a(22),L=a(53),W=a(167),Y=a(46),x=a.n(Y),D=a(333),U=a.n(D);function G(e){var t=Object(y.a)(e,2),a=t[0],n=t[1];return a<-168.51?x.a.latLng(n,360+a):x.a.latLng(n,a).wrap()}function z(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t}function F(e){return null===e||void 0===e||Number.isNaN(e)?"NA":Number(Number(e).toPrecision(3)).toLocaleString()}function H(e){return e.toLocaleString()}function q(e,t){return t?"".concat(e.base,"/capita"):e.main}function K(e,t){return Object(p.d)(function(e){return"string"===typeof e?{statisticCode:e,countryCode:t}:e},e)}function B(e,t){if(!t)return e;var a=Object(p.k)(Object(p.l)(e).map(function(e){return e.countryCode})),n=Object(p.f)(a.map(function(e){return Object(P.a)({},"pop/".concat(e),{statisticCode:"POPULATION",countryCode:e})}));return Object(l.a)({},n,e)}function V(e){return e.statistics.loaded}function J(e){return Object(p.l)(e.statistics.data)}function $(e,t){return t.statistics.data[e]}function Z(e,t){var a=e.statisticCode,n=e.countryCode,r=$(a,t);return r&&r.values[n]}function Q(e,t){var a=e.statisticCode,n=e.countryCode,r=$(a,t);if(r.compute)return Object(p.l)(r.source).every(function(e){return Q({statisticCode:e,countryCode:n},t)});var c=Z({statisticCode:a,countryCode:n},t);return!!c&&c.loaded}function X(e,t){var a=e.statisticCode,n=e.countryCode,r=$(a,t);if(r.compute)return te({mapOfCountryStatistics:r.source,countryCode:n},t).map(function(e){return function(t){var a=t.year,n=Object(W.a)(t,["year"]),r=e.compute(n);return Number.isNaN(r)||!Number.isFinite(r)?{year:a,value:null}:{year:a,value:r}}}(r));var c=Z({statisticCode:a,countryCode:n},t);return c?c.values:[]}function ee(e,t){return I(t).map(function(e){return e.alpha2Code}).every(function(a){return Q({statisticCode:e,countryCode:a},t)})}var te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return JSON.stringify(e)},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,n={};return function(){for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];var i=t(c);if(n[i])return n[i];var u=e.apply(void 0,c);n[i]=u;var l=Object.keys(n);return l.length>a&&delete n[l[0]],u}}(function(e,t){var a,n=e.mapOfCountryStatistics,r=e.countryCode,c=e.perCapita,o=B(K(n,r),c),i=Object(p.d)(function(e){return $(e.statisticCode,t)},o),u=Object(p.d)(function(e){return X(e,t)},o),s=function(e){var t=Object(p.l)(e),a=t.map(function(e){return Math.min.apply(Math,Object(L.a)(e.map(function(e){return e.year})))}),n=t.map(function(e){return Math.max.apply(Math,Object(L.a)(e.map(function(e){return e.year})))});return[Math.max.apply(Math,Object(L.a)(a)),Math.min.apply(Math,Object(L.a)(n))]}(u),d=Object(y.a)(s,2),m=d[0],f=d[1],E=Object(p.e)(function(e,t){return e.map(function(e){var a=e.year,n=e.value;return Object(P.a)({year:a},t,n)})},u),O=(a=[]).concat.apply(a,Object(L.a)(Object(p.l)(E))),h=Object(p.b)(function(e){return e.year},O);return Object.keys(h).map(function(e){return Number(e)}).filter(function(e){return m<=e&&e<=f}).sort().map(function(e){return Object(p.f)(h[e])}).map(function(e){return Object(l.a)({},e,Object(p.e)(function(t,a){var n="pop/".concat(o[a].countryCode);return function(e,t,a,n,r){return null===e||a&&!t?null:a?e*n/(r*t):e}(t,e[n],c,i[a].unit.factor,i[n]?i[n].unit.factor:null)},Object(p.g)(["year"],e)))})},function(e){return JSON.stringify(e[0])});function ae(e,t){var a=e.statisticCode,n=e.year,r=e.perCapita,c=I(t).map(function(e){return e.alpha2Code}),o={value:a};return c.push("WORLD"),c.map(function(e){var a=te({mapOfCountryStatistics:o,countryCode:e,perCapita:r},t).find(function(e){return e.year===n});return{countryCode:e,value:a?a.value:null}})}function ne(e,t){return e.reduce(function(e,a){var n=$(a,t);if(n.compute){var r=Object(p.l)(n.source).map(function(e){return $(e,t)});return e.concat(r)}return e.concat([n])},[])}function re(e,t){return fetch(e,t).then(function(e){return e.json()})}var ce={main:"Mtoe",base:"toe",factor:Math.pow(10,6)},oe={main:"TWh",base:"kWh",factor:Math.pow(10,9)},ie=.33,ue=1,le=[{code:"ENERGY_SELF_SUFFICIENCY",name:"Energy Self-sufficiency",description:"This indicator made up by dividing primary energy consumption by primary energy production, gives an indication on the level of self-sufficiency (or dependency) of a country.",unit:{main:"%",base:"%",factor:1},source:{consumption:"PRIMARY_ENERGY_CONSUMPTION_MTOE",production:"PRIMARY_ENERGY_PRODUCTION_MTOE"},startingYear:1973,endingYear:2016,sourceAttribution:"IEA",category:"Others",isIntensive:!0,compute:function(e){var t=e.consumption;return e.production/t*100}},{code:"ENERGY_INTENSITY",name:"Energy Intensity",description:"",unit:{main:"toe/million 2010 $",base:"toe/million 2010 $",factor:1},source:{energy:"PRIMARY_ENERGY_CONSUMPTION_MTOE",gdp:"GDP_2010_USD"},startingYear:1973,endingYear:2016,sourceAttribution:"IEA, World Bank",category:"Climate change",isIntensive:!0,compute:function(e){return e.energy/e.gdp*Math.pow(10,3)}},{code:"CO2_INTENSITY_OF_ENERGY",name:"CO2 Intensity of energy",description:"Measures the mass of CO2 by unit of energy that is emitted by the country.",unit:{main:"tCO2/toe",base:"tCO2/toe",factor:1},source:{co2:"FOSSIL_CO2_EMISSIONS_MT",energy:"PRIMARY_ENERGY_CONSUMPTION_MTOE"},startingYear:1973,endingYear:2016,sourceAttribution:"IEA, World Bank",category:"Climate change",isIntensive:!0,scale:"linear",compute:function(e){var t=e.energy;return e.co2/t}},{code:"RENEWABLES_PRODUCTION_MTOE",name:"Renewables production",description:"Includes hydroelectricity, solar, wind and tide productions.",unit:ce,source:{hydro:"HYDRO_PRODUCTION_MTOE",geothSolarWindTide:"GEOTH_SOLAR_WIND_TIDE_PRODUCTION_MTOE"},startingYear:1973,endingYear:2016,sourceAttribution:"IEA",category:"Productions",compute:function(e){return e.hydro+e.geothSolarWindTide}},{code:"LOW_CARBON_ENERGY_PRODUCTION_MTOE",name:"Low-carbon energy production",description:"Includes renewables and nuclear productions. Excludes biofuels at the moment.",unit:ce,source:{hydro:"HYDRO_PRODUCTION_MTOE",geothSolarWindTide:"GEOTH_SOLAR_WIND_TIDE_PRODUCTION_MTOE",nuclear:"NUCLEAR_PRODUCTION_MTOE"},startingYear:1973,endingYear:2016,sourceAttribution:"IEA",category:"Productions",compute:function(e){return e.hydro+e.geothSolarWindTide+e.nuclear}},{code:"NUCLEAR_GENERATION_TWH",name:"Electricity generation from nuclear",description:"",unit:oe,source:{nuclear:"NUCLEAR_PRODUCTION_MTOE"},startingYear:1973,endingYear:2016,sourceAttribution:"IEA",category:"Electricity",compute:function(e){return e.nuclear*ie*11.63}},{code:"HYDRO_GENERATION_TWH",name:"Electricity generation from hydro",description:"",unit:oe,source:{hydro:"HYDRO_PRODUCTION_MTOE"},startingYear:1973,endingYear:2016,sourceAttribution:"IEA",category:"Electricity",compute:function(e){return e.hydro*ue*11.63}}];var se="STATISTICS_LOAD_ACTION",de="STATISTICS_RECEIVE_ACTION",me="COUNTRY_STATISTIC_LOAD_ACTION",pe="COUNTRY_STATISTIC_RECEIVE_ACTION",fe="STATISTIC_LOAD_ALL_COUNTRIES_ACTION",Ee="STATISTIC_RECEIVE_ALL_COUNTRIES_ACTION";function ye(e){var t=e.data,a=e.errors;return{type:de,data:t,errors:a}}function Oe(e){var t=e.countryCode,a=e.statisticCode,n=e.data,r=e.errors;return{type:pe,countryCode:t,statisticCode:a,data:n,errors:r}}function he(e){var t=e.statisticCode,a=e.countries,n=e.data,r=e.errors;return{type:Ee,countries:a,statisticCode:t,data:n,errors:r}}function Ce(e){var t=e.statisticCode,a=e.countryCode;return function(e,n){var r=n(),c=$(t,r);if(c.compute){var o=Object(p.l)(c.source).map(function(e){return{statisticCode:e,countryCode:a}});e(be(o))}else Q({statisticCode:t,countryCode:a},r)||(e(function(e,t){return{type:me,statisticCode:e,countryCode:t}}(t,a)),function(e,t){return re("/data/".concat(e,"/").concat(t,".json"))}(t,a).then(function(n){var r=n.map(function(e){return{year:e.year,value:e.value}});e(Oe({countryCode:a,statisticCode:t,data:r}))}).catch(function(n){return e(Oe({statisticCode:t,countryCode:a,errors:n}))}))}}function be(e){return function(t){return Promise.all(e.map(function(e){return t(Ce(e))}))}}var ve={loading:!0,loaded:!1,errors:null,values:[]};function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;switch(t.type){case pe:return{loading:!1,loaded:!t.errors,errors:t.errors||null,values:t.data||[]};case Ee:return{loading:!1,loaded:!t.errors,errors:t.errors||null,values:t.data&&t.data.filter(function(e){return e.countryCode===a}).map(Object(p.g)(["countryCode"]))||[]};default:return e}}var _e={loading:!1,loaded:!1,errors:null,data:{}};var je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return Object(l.a)({},e,{loading:!0});case de:return Object(l.a)({},e,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data||{}});case me:case pe:var a=e.data[t.statisticCode],n=a.values[t.countryCode];return Object(l.a)({},e,{data:Object(l.a)({},e.data,Object(P.a)({},t.statisticCode,Object(l.a)({},a,{values:Object(l.a)({},a.values,Object(P.a)({},t.countryCode,ge(n,t)))})))});case fe:var r=e.data[t.statisticCode];return Object(l.a)({},e,{data:Object(l.a)({},e.data,Object(P.a)({},t.statisticCode,Object(l.a)({},r,{values:Object(l.a)({},r.values,t.countries.reduce(function(e,a){return Object(l.a)({},e,Object(P.a)({},a.alpha2Code,ge(void 0,t,a.alpha2Code)))},{}))})))});case Ee:var c=e.data[t.statisticCode];return Object(l.a)({},e,{data:Object(l.a)({},e.data,Object(P.a)({},t.statisticCode,Object(l.a)({},c,{values:Object(l.a)({},c.values,t.countries.reduce(function(e,a){return Object(l.a)({},e,Object(P.a)({},a.alpha2Code,ge(c.values[a.alpha2Code],t,a.alpha2Code)))},{}),{WORLD:ge(c.values.WORLD,t,"WORLD")})})))});default:return e}},Te=a(262),Ne=a(334),Se=Object(p.c)(function(e){return e.cca2},Ne);function Ie(e){var t=e.countryCodes.map(function(e){return Se[e].ccn3}),a=Te.objects.countries.geometries.filter(function(e){return t.includes(e.id)});return Object(h.b)(Te,a)}function ke(){return(ke=Object(O.a)(E.a.mark(function e(){var t,a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/data/areas.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a.map(function(e){return Object(l.a)({},e,{geojson:e.countryCodes?Ie(e):null})}));case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Re="AREAS_LOAD_ACTION",we="AREAS_RECEIVE_ACTION";function Ae(e){var t=e.data,a=e.errors;return{type:we,data:t,errors:a}}var Me={loading:!1,loaded:!1,errors:null,data:{}};function Pe(e){return e.areas.loaded}function Le(e){return Object(p.l)(e.areas.data)}var We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return Object(l.a)({},e,{loading:!0});case we:return Object(l.a)({},e,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data||{}});default:return e}};var Ye=Object(s.combineReducers)({countries:M,statistics:je,areas:We}),xe=[Object(s.applyMiddleware)(m.a)],De=Object(d.composeWithDevTools)({actionSanitizer:function(e){return e.type!==pe&&e.type!==Ee||!e.data?e:Object(l.a)({},e,{data:"DATA"})}}).apply(void 0,xe),Ue=Object(s.createStore)(Ye,De),Ge=(a(229),a(144)),ze=(a(379),a(173)),Fe=a(642),He=a(644),qe=a(635),Ke=a(638),Be=(a(122),a(23)),Ve=(a(123),a(30)),Je=a(67),$e=a(56),Ze=a(71),Qe=a(68),Xe=a(70),et=a(54),tt=a(358),at=a(636),nt=a(637),rt=a(641),ct=a(0),ot=a.n(ct),it=ot.a.shape({alpha2Code:ot.a.string.isRequired,alpha3Code:ot.a.string.isRequired,commonName:ot.a.string.isRequired,capital:ot.a.string.isRequired,area:ot.a.number.isRequired,latlng:ot.a.arrayOf(ot.a.number).isRequired,geojson:ot.a.object}),ut=(ot.a.shape({code:ot.a.string.isRequired,name:ot.a.string.isRequired,description:ot.a.string.isRequired,unit:ot.a.shape({main:ot.a.string.isRequired,base:ot.a.string.isRequired}),perCapita:ot.a.bool,startingYear:ot.a.number.isRequired,endingYear:ot.a.number.isRequired,category:ot.a.string.isRequired,sourceAttribution:ot.a.string,sourceUrl:ot.a.string,sourceDescriptionUrl:ot.a.string}),ot.a.arrayOf(ot.a.shape({year:ot.a.number.isRequired,value:ot.a.number.isRequired})),ot.a.shape({code:ot.a.string.isRequired,name:ot.a.string.isRequired,countryCodes:ot.a.arrayOf(ot.a.string),countries:ot.a.arrayOf(it)}),"540px"),lt="#888",st="black",dt=4,mt=300,pt=tt["interpolate".concat("YlGnBu")];function ft(e){var t=e.countries,a=e.dependentCountries,n=e.data,c=e.currentStatistic,o=e.currentYear,i=e.perCapita,u=e.scale,l=n.filter(function(e){return"WORLD"!==e.countryCode}),s=Math.max.apply(Math,Object(L.a)(l.map(function(e){return e.value}))),d=function(e,t){var a=Math.max.apply(Math,Object(L.a)(e.map(function(e){return e.value}))),n=Math.min.apply(Math,Object(L.a)(e.filter(function(e){return e.value}).map(function(e){return e.value}))),r=Object(p.d)(function(e){return e.value},Object(p.c)(function(e){return e.countryCode},e)),c=("linear"===t?Object(et.scaleLinear)():Object(et.scaleLog)()).domain([n,a]);return Object(p.d)(function(e){return null===e||void 0===e?{color:lt,value:e}:0===e?{color:pt(0),value:e}:{color:pt(c(e)),value:e}},r)}(l,c.scale||u);return r.a.createElement("div",{className:"WorldMap"},r.a.createElement("div",{className:"WorldMap__yearLabel"},o),r.a.createElement(at.a,{zoom:2,minZoom:2,center:[20,10],style:{height:ut,zIndex:0},dragging:!z()},t.map(function(e){var t=d[e.alpha2Code],a=t.value,n=t.color;return r.a.createElement(nt.a,{key:e.alpha2Code+c.code,data:e.geojson,coordsToLatLng:G,ref:function(e){return e&&e.leafletElement.setStyle({color:st,weight:.5,fillColor:n,fillOpacity:1})}},r.a.createElement(rt.a,{sticky:!0},"".concat(e.commonName,": ").concat(F(a))))}),a.map(function(e){return r.a.createElement(nt.a,{key:e.alpha2Code,data:e.geojson,style:{fillOpacity:1,color:"white",weight:.5,fillColor:lt}})})),r.a.createElement("div",{className:"WorldMap__legend"},r.a.createElement("div",null,r.a.createElement("div",null,"".concat(c.name," (").concat(q(c.unit,i),")")),r.a.createElement("div",{className:"WorldMap__legend__colors"},r.a.createElement("div",null,r.a.createElement("div",{className:"WorldMap__legend__gradient"},Object(p.i)(0,dt).map(function(e){return r.a.createElement("div",{key:e,className:"WorldMap__legend__gradient__item",style:{width:mt/dt,background:"linear-gradient(to right, ".concat(pt(e/dt),", ").concat(pt((e+1)/dt))}})})),r.a.createElement("div",{className:"WorldMap__legend__gradientRange"},r.a.createElement("div",null,"0"),r.a.createElement("div",null,F(s)))),r.a.createElement("div",null,r.a.createElement("div",{className:"WorldMap__legend__NA__square",style:{backgroundColor:lt}}),r.a.createElement("div",null,"NA"))))))}ft.defaultProps={scale:null};var Et=ft,yt=(a(628),a(359)),Ot=(a(231),a(141)),ht=(a(124),a(73)),Ct=(a(176),a(19)),bt=(a(270),a(78)),vt=(a(403),a(360)),gt=(a(230),a(74)),_t=a(260),jt=a.n(_t);function Tt(e){var t=e.statisticSources,a=e.description,n=a&&a.split("\n");return r.a.createElement("div",{className:"StatisticDetails"},r.a.createElement(Ot.a,{title:"Details",arrowPointAtCenter:!0,overlayStyle:{maxWidth:"300px"},content:r.a.createElement("div",null,a&&r.a.createElement("div",null,r.a.createElement("strong",null,"Description : "),"".concat(n[0])),r.a.createElement("div",null,r.a.createElement("strong",null,"Source".concat(t.length>1?"s":"")),r.a.createElement("ul",{className:"StatisticDetails__sources"},t.map(function(e){return r.a.createElement("li",{key:e.code},r.a.createElement("a",{href:e.sourceUrl,target:"_blank",rel:"noopener noreferrer"},"".concat(e.name," (").concat(e.sourceAttribution,")")))})))),placement:"bottomRight"},r.a.createElement(ht.a,{size:"small",icon:"info-circle",style:{marginRight:"5px"}})))}Tt.defaultProps={description:null};var Nt=Tt,St=(a(271),a(149)),It=(a(288),a(55)),kt=a(264);var Rt=function(e){return r.a.createElement("div",{className:"ShareChartComponent"},r.a.createElement(St.a,{overlay:r.a.createElement(It.a,{onClick:function(t){var a=t.key;if("png"===a){var n=e.chartRef,r=e.filename;(function(e,t){var a=e.offsetHeight+20,n=e.offsetWidth+20,r=["ChartWrapper__header__right","leaflet-control-container"];return U.a.toBlob(e,{filter:function(e){return!r.includes(e.className)},bgcolor:"white",style:{padding:"".concat(10,"px"),transform:"scale(".concat(t,") translate(").concat(n/2/t,"px, ").concat(a/2/t,"px)")},height:a*t,width:n*t})})(n.current,2).then(function(e){return Object(kt.saveAs)(e,"".concat(r,".png"))}).catch(function(e){return console.err(e)})}else if("csv"===a){var c=e.data,o=e.statistics,i=e.filename,u=Object.keys(o),l=u.map(function(e){return o[e].code}),s=c.map(function(e){return u.map(function(t){return e[t]})}),d=[l].concat(Object(L.a)(s)).map(function(e){return e.join(",")}).join("\n"),m=new Blob([d],{type:"text/plain;charset=utf-8"});Object(kt.saveAs)(m,"".concat(i,".csv"))}}},r.a.createElement(It.a.Item,{key:"png"},r.a.createElement(Ct.a,{type:"picture",theme:"filled"}),".png"),r.a.createElement(It.a.Item,{key:"csv"},r.a.createElement(Ct.a,{type:"file-text",theme:"filled"}),".csv"))},r.a.createElement(ht.a,{size:"small",icon:"share-alt",style:{marginRight:"5px"}})))},wt=!1;function At(e){var t,a=e.data,n=e.countries,c=e.statistics,o=e.currentStatistic,i=e.statisticSources,u=e.currentYear,l=e.perCapita,s=e.onRowClick,d=e.setStatistic,m=e.setYear,f=e.setPerCapita,E=e.isLoaded,y=e.mapRef,O=e.scale,h=e.setScale,C=a.filter(function(e){return null!==e.value}).map(function(e){return{countryCode:e.countryCode,country:"WORLD"===e.countryCode?"World":n.find(function(t){return t.alpha2Code===e.countryCode}).commonName,value:e.value}}),b=Object(p.b)(function(e){return e.category},c);return o.isIntensive&&l&&f(!1),r.a.createElement("div",{className:"StatisticExplorer"},r.a.createElement(gt.a,{style:{width:"100%"},placeholder:"Statistics",optionFilterProp:"title",value:o.code,showSearch:!z(),onChange:function(e){return d(e)}},Object.keys(b).map(function(e){var t=b[e];return r.a.createElement(gt.a.OptGroup,{key:e,label:e},Object(p.j)(function(e){return e.name},t).map(function(e){return r.a.createElement(gt.a.Option,{key:e.code,title:e.name},"".concat(e.name))}))})),r.a.createElement(vt.a,{className:"hideOnMobile",defaultValue:u,min:o.startingYear,max:o.endingYear,onAfterChange:function(e){return m(e)},onChange:jt()(m,300),included:!1,marks:(t={},Object(P.a)(t,o.startingYear,{style:{},label:"".concat(o.startingYear)}),Object(P.a)(t,o.endingYear,{style:{width:"auto",margin:"auto",left:"",right:"-15px"},label:"".concat(o.endingYear)}),t)}),r.a.createElement("div",{className:"StatisticExplorer__options"},r.a.createElement(bt.a.Group,{style:{marginBottom:"10px"},buttonStyle:"solid",size:"small",value:l,onChange:function(e){return f(e.target.value)}},r.a.createElement(bt.a.Button,{value:!1},"Absolute"),r.a.createElement(bt.a.Button,{value:!0,disabled:"POPULATION"===o.code||o.isIntensive},"Per capita")),r.a.createElement("div",{className:"StatisticExplorer__options__right"},r.a.createElement(Rt,{filename:o.name.replace(/ /g,"_"),chartRef:y,statistics:{countryCode:{code:"COUNTRY_CODE"},value:o},data:a}),r.a.createElement(Nt,{statisticSources:i,description:o.description}),wt&&r.a.createElement(Ot.a,{title:"Settings",arrowPointAtCenter:!0,content:r.a.createElement("div",null,"Scale ",r.a.createElement(bt.a.Group,{buttonStyle:"solid",size:"small",value:O,onChange:function(e){return h(e.target.value)}},r.a.createElement(bt.a.Button,{value:"log"},"Log"),r.a.createElement(bt.a.Button,{value:"linear"},"Linear"))),placement:"bottomRight"},r.a.createElement(ht.a,{size:"small"},r.a.createElement(Ct.a,{type:"setting",theme:"filled"}))))),r.a.createElement(yt.a,{className:"hideOnMobile",rowKey:"countryCode",size:"small",pagination:!1,dataSource:C,loading:!E,scroll:{y:380},columns:[{title:"Country",dataIndex:"country",sorter:function(e,t){return e.country.localeCompare(t.country)},width:"auto",render:function(e){return"World"===e?r.a.createElement("strong",null,"World"):r.a.createElement("a",{href:"javascript:;"},e)}},{title:q(o.unit,l),dataIndex:"value",defaultSortOrder:"descend",sorter:function(e,t){return e.value-t.value},render:F,align:"right"}],onRow:function(e){return{onClick:function(){return s(e)}}}}))}At.defaultProps={scale:null};var Mt=At;function Pt(e,t){return t?[e,"POPULATION"]:[e]}var Lt=Object(i.b)(function(e,t){var a=t.statisticCode,n=t.currentYear,r=t.perCapita;return{countries:I(e),dependentCountries:k(e),currentStatistic:$(a,e),data:ae({statisticCode:a,year:n,perCapita:r},e)}})(Et),Wt=Object(i.b)(function(e,t){var a=t.statisticCode,n=t.currentYear,r=t.perCapita;return{countries:I(e),statistics:J(e),currentStatistic:$(a,e),statisticSources:ne(Pt(a,r),e),isLoaded:ee(a,e)&&(!r||ee("POPULATION",e)),data:ae({statisticCode:a,year:n,perCapita:r},e)}})(Mt),Yt=function(e){function t(){var e;return Object(Je.a)(this,t),(e=Object(Ze.a)(this,Object(Qe.a)(t).call(this))).state={statisticCode:"PRIMARY_ENERGY_CONSUMPTION_MTOE",currentYear:2010,perCapita:!1,scale:null},e.mapRef=r.a.createRef(),e}return Object(Xe.a)(t,e),Object($e.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.statisticCode;(0,this.props.loadStatistic)(e)}},{key:"setStatistic",value:function(e){(0,this.props.loadStatistic)(e);var t=Object(l.a)({statisticCode:e},"POPULATION"===e?{perCapita:!1}:{});this.setState(t)}},{key:"setYear",value:function(e){this.setState({currentYear:e})}},{key:"setPerCapita",value:function(e){var t=this.props.loadStatistic;e&&t("POPULATION"),this.setState({perCapita:e})}},{key:"setScale",value:function(e){this.setState({scale:e})}},{key:"render",value:function(){var e=this,t=this.props.history.push,a=this.state,n=a.currentYear,c=a.statisticCode,o=a.perCapita,i=a.scale;return r.a.createElement("div",{className:"HomeView"},r.a.createElement(Ve.a,null,r.a.createElement("h1",null,"Welcome to the World Energy Data Explorer")),r.a.createElement(Ve.a,{gutter:{md:20}},r.a.createElement(Be.a,{md:16},r.a.createElement("div",{ref:this.mapRef},r.a.createElement(Lt,{statisticCode:c,currentYear:n,perCapita:o,scale:i}))),r.a.createElement(Be.a,{md:8},r.a.createElement(Wt,{statisticCode:c,currentYear:n,perCapita:o,onRowClick:function(e){return t("country/".concat(e.countryCode))},setYear:function(t){return e.setYear(t)},setStatistic:function(t){return e.setStatistic(t)},setPerCapita:function(t){return e.setPerCapita(t)},mapRef:this.mapRef,scale:i,setScale:function(t){return e.setScale(t)}}))))}}]),t}(n.Component),xt=Object(i.b)(null,{loadStatistic:function e(t){return function(a,n){var r=n(),c=$(t,r);c.compute&&Object(p.l)(c.source).forEach(function(t){return a(e(t))});var o=I(r);o.every(function(e){return Q({statisticCode:t,countryCode:e.alpha2Code},r)})||(a(function(e,t){return{type:fe,statisticCode:e,countries:t}}(t,o)),function(e){return re("/data/".concat(e,"/all.json"))}(t).then(function(e){return a(he({statisticCode:t,countries:o,data:e}))}).catch(function(e){return a(he({statisticCode:t,countries:o,errors:e}))}))}}})(Yt),Dt=(a(259),a(106)),Ut=a(634);function Gt(e,t){var a=R(e,t),n=function(e,t){return Object(p.l)(t.areas.data).filter(function(t){return t.countryCodes&&t.countryCodes.includes(e)})}(e,t);return Object(l.a)({},a,{areas:n})}function zt(e,t){var a=function(e,t){return t.areas.data[e]}(e,t),n=a.countryCodes?a.countryCodes.map(function(e){return R(e,t)}).filter(function(e){return!!e}):I(t);return Object(l.a)({},a,{countries:n})}var Ft=a(72),Ht=a(640),qt=function(e){function t(){return Object(Je.a)(this,t),Object(Ze.a)(this,Object(Qe.a)(t).apply(this,arguments))}return Object(Xe.a)(t,e),Object($e.a)(t,[{key:"componentDidMount",value:function(){this.createGeoJSON()}},{key:"componentDidUpdate",value:function(e){var t=this.props.data;e.data!==t&&(this.geojson.remove(),this.createGeoJSON())}},{key:"createGeoJSON",value:function(){var e=this.props,t=e.leaflet.map,a=e.data;this.geojson=x.a.geoJSON(a,{coordsToLatLng:G}).addTo(t);var n=this.geojson.getBounds();t.flyToBounds(n)}},{key:"render",value:function(){return null}}]),t}(n.Component),Kt=Object(Ft.b)(qt);var Bt=function(e){var t=e.geojson,a=e.center;return r.a.createElement("div",{className:"GeoJSONMap"},r.a.createElement(at.a,{center:a,zoom:2,style:{height:"300px",zIndex:0}},r.a.createElement(Ht.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t&&r.a.createElement(Kt,{data:t})))},Vt=a(265),Jt=(a(548),a(267));var $t=function(e){var t=e.perCapitaSwitch,a=e.stackedSwitch,n=e.perCapita,c=e.stacked,o=e.setPerCapita,i=e.setStacked;return r.a.createElement("div",{className:"ChartSettings"},t&&r.a.createElement("div",null,"Per capita ",r.a.createElement(Jt.a,{size:"small",checked:n,onChange:o})),a&&r.a.createElement("div",null,"Stacked ",r.a.createElement(Jt.a,{size:"small",checked:c,onChange:i})))},Zt=function(e){function t(){return Object(Je.a)(this,t),Object(Ze.a)(this,Object(Qe.a)(t).apply(this,arguments))}return Object(Xe.a)(t,e),Object($e.a)(t,[{key:"componentWillMount",value:function(){var e=this.props;(0,e.load)(Object(W.a)(e,["load"]))}},{key:"componentDidUpdate",value:function(e){var t=Object(p.g)(["load"],e),a=this.props,n=a.load,r=Object(W.a)(a,["load"]);Object(p.a)(t,r)||n(r)}},{key:"render",value:function(){return null}}]),t}(n.Component);var Qt=function(e){return Object(i.b)(null,{load:e})(Zt)},Xt=Qt(function(e){return be(e.countryStatistics)});function ea(e,t){return{value:t.statisticCode}}function ta(e,t){var a=t.perCapita,n=t.worldReference,r=t.statisticCode,c=t.mapOfCountryStatistics,o=t.countryCode,i=r&&$(r,e).isIntensive,u=(a||i)&&n?Object(l.a)({},c,{world:{countryCode:"WORLD",statisticCode:"boolean"===typeof n?r:n}}):c,s=K(u,o),d=B(s,a),m=Object(p.l)(d),f=Object(p.k)(m.map(function(e){return e.statisticCode})),E=function(e,t){return e.every(function(e){return Q(e,t)})}(m,e);return{data:E?te({mapOfCountryStatistics:u,countryCode:t.countryCode,perCapita:t.perCapita},e):[],statistics:Object(p.d)(function(t){return $(t.statisticCode,e)},s),statisticSources:ne(f,e),isLoaded:E,countryStatisticsToLoad:m,country:R(o,e)}}var aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t="object"===typeof e?function(){return e}:e;return function(e){return Object(i.b)(function(e,a){return ta(e,Object(l.a)({mapOfCountryStatistics:t(e,a)},a))})(function(t){return r.a.createElement(Ge.a,{spinning:!t.isLoaded},r.a.createElement(Xt,{countryStatistics:t.countryStatisticsToLoad}),r.a.createElement(e,t))})}},na=200;var ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapOfCountryStatisticsSelector,a=e.perCapitaSwitch,c=void 0!==a&&a,o=e.stackedSwitch,i=void 0!==o&&o,u=[],s=c||i;return s&&u.push(Object(Vt.b)(function(e){var t=e.defaultPerCapita,a=void 0!==t&&t,n=e.defaultStacked;return{perCapita:a,stacked:void 0!==n&&n}},{setPerCapita:function(){return function(e){return{perCapita:e}}},setStacked:function(){return function(e){return{stacked:e}}}})),u.push(aa(t)),function(t){return Vt.a.apply(void 0,u)(function(a){function n(){var e;return Object(Je.a)(this,n),(e=Object(Ze.a)(this,Object(Qe.a)(n).call(this))).chartRef=r.a.createRef(),e.buttonRef=r.a.createRef(),e}return Object(Xe.a)(n,a),Object($e.a)(n,[{key:"render",value:function(){var a=this.props,n=a.title,o=a.description,u=a.statistics,d=a.statisticSources,m=a.height,f=a.perCapita,E=void 0!==f&&f,y=a.stacked,O=void 0!==y&&y,h=a.setPerCapita,C=a.setStacked,b=a.data,v=Object(p.l)(u),g=v[0],_=e.height||m||na,j=n?n.replace(/ /g,"_"):g.name.replace(/ /g,"_"),T=v.find(function(e){return e.code===o}),N=v.length<2?o||g.description:T&&T.description||o;return r.a.createElement("div",{className:"ChartWrapper",ref:this.chartRef},r.a.createElement("div",{className:"ChartWrapper__header"},r.a.createElement("div",{className:"ChartWrapper__header__left"},r.a.createElement("span",{className:"ChartWrapper__title"},n||g.name),r.a.createElement("span",{className:"ChartWrapper__title__unit"}," (".concat(q(g.unit,E),")"))),r.a.createElement("div",{className:"ChartWrapper__header__right","data-html2canvas-ignore":!0},r.a.createElement(Rt,{filename:j,chartRef:this.chartRef,statistics:Object(l.a)({year:{code:"YEAR"}},u),data:b}),r.a.createElement(Nt,{statisticSources:d,description:N}),s&&r.a.createElement("div",null,r.a.createElement(Ot.a,{title:"Settings",arrowPointAtCenter:!0,content:r.a.createElement($t,{perCapitaSwitch:c,stackedSwitch:i,stacked:O,perCapita:E,setPerCapita:h,setStacked:C}),placement:"bottomRight"},r.a.createElement(ht.a,{size:"small"},r.a.createElement(Ct.a,{type:"setting",theme:"filled"})))))),r.a.createElement(t,Object.assign({},this.props,{height:_,perCapita:E,stacked:O})),r.a.createElement("div",{className:"ChartWrapper__footer"}))}}]),n}(n.Component))}},ca=a(554),oa=a(324),ia=a(630),ua=a(643),la=a(631),sa=a(90),da=a(91),ma=a(629),pa=a(328),fa=a(171);function Ea(e){var t=e.active,a=e.separator,n=e.payload,c=e.withTotal;if(t&&n&&n.length>0){var o=e.label,i=e.displayFilter,u=e.totalFilter,l=e.units,s=n.filter(i);if(s.length<2){var d=n[0],m=d.formatter,p=void 0===m?F:m,f=d.unit,E=d.color,y=d.value;return r.a.createElement("div",{className:"CustomTooltip",style:{color:E}},"".concat(o," : ").concat(p(y)," ").concat(f))}var O=n.filter(u).reduce(function(e,t){return e+t.value},0),h=s[0].unit;return r.a.createElement("div",{className:"CustomTooltip"},r.a.createElement("div",null,o),r.a.createElement("div",null,s.map(function(e,t){var n=e.formatter,c=void 0===n?F:n,o=e.unit,i=e.color,u=e.name,s=e.dataKey,d=e.value;return r.a.createElement("div",{key:s||u,style:{color:i}},"".concat(u).concat(a).concat(c(d)," ").concat(o||l[t]))}),c&&r.a.createElement("div",{key:"__total__"},r.a.createElement("hr",{size:1}),"Total".concat(a).concat(F(O)," ").concat(h))))}return null}Ea.defaultProps={label:"",withTotal:!1,displayFilter:function(e){return e},totalFilter:function(e){return e},units:{}};var ya=Ea;var Oa=function(e){var t=e.data,a=e.stacked,n=e.perCapita,c=e.fuelConsumed,o=e.statistics,i=o.coal.unit,u=q(i,n),s=a?ca.a:oa.a,d={type:"monotone",dot:!1,activeDot:!1,unit:u},m=a?Object(l.a)({stackId:"1"},d):Object(l.a)({strokeWidth:2},d);Object(p.l)(o).some(function(e){return e.unit.main!==i.main})&&console.warn("EnergyMixChart : statistics have not same units");var f=1.05*Math.max.apply(Math,Object(L.a)(a?t.map(function(e){return Object.keys(c).reduce(function(t,a){return t+e[a]},0)}):t.map(function(e){return Math.max.apply(Math,Object(L.a)(Object.keys(c).map(function(t){return e[t]})))})).concat(Object(L.a)(n?t.map(function(e){return e.world}):[]))),E=Object(fa.getNiceTickValues)([0,f],5,!0);E[3]>f&&E.pop();var y=[0,E[E.length-1]];return r.a.createElement("div",{className:"EnergyMixChart"},r.a.createElement(ia.a,{height:280,width:"100%"},r.a.createElement(ua.a,{data:t},c.coal&&r.a.createElement(s,Object.assign({},m,{dataKey:"coal",name:"Coal",stroke:"black",fill:"black"})),c.oil&&r.a.createElement(s,Object.assign({},m,{dataKey:"oil",name:"Oil",stroke:"grey",fill:"grey"})),c.gas&&r.a.createElement(s,Object.assign({},m,{dataKey:"gas",name:"Gas",stroke:"orange",fill:"orange"})),c.nuclear&&r.a.createElement(s,Object.assign({},m,{dataKey:"nuclear",name:"Nuclear",stroke:"purple",fill:"purple"})),c.hydro&&r.a.createElement(s,Object.assign({},m,{dataKey:"hydro",name:"Hydroelectricity",stroke:"blue",fill:"blue"})),c.biofuelsWaste&&r.a.createElement(s,Object.assign({},m,{dataKey:"biofuelsWaste",name:"Biofuels & Waste",stroke:"saddlebrown",fill:"saddlebrown"})),c.solarWindTideGeoth&&r.a.createElement(s,Object.assign({},m,{dataKey:"solarWindTideGeoth",name:"Geothermy, Wind, Solar & Tide",stroke:"green",fill:"green"})),n&&r.a.createElement(oa.a,{type:"monotone",dataKey:"world",strokeWidth:2,dot:!1,activeDot:!1,name:"World",stroke:"red",unit:u}),r.a.createElement(la.a,{stroke:"#ccc",opacity:.2}),r.a.createElement(sa.a,{dataKey:"year",interval:4}),r.a.createElement(da.a,{tickFormatter:H,ticks:E,domain:y}),r.a.createElement(ma.a,{content:function(e){return r.a.createElement(ya,Object.assign({},e,{withTotal:!0,totalFilter:function(e){return"World"!==e.name}}))}}),r.a.createElement(pa.a,{iconType:"circle"}))))},ha=ra({perCapitaSwitch:!0,stackedSwitch:!0})(Oa),Ca=Object(i.b)(function(e,t){return{fuelConsumed:w(t.countryCode,e)}})(ha),ba={coal:"COAL_CONSUMPTION_MTOE",gas:"GAS_CONSUMPTION_MTOE",oil:"OIL_CONSUMPTION_MTOE",hydro:"HYDRO_PRODUCTION_MTOE",nuclear:"NUCLEAR_PRODUCTION_MTOE",biofuelsWaste:"BIOFUELS_WASTE_CONSUMPTION_MTOE",solarWindTideGeoth:"GEOTH_SOLAR_WIND_TIDE_PRODUCTION_MTOE"},va="PRIMARY_ENERGY_CONSUMPTION_MTOE",ga={coal:"COAL_ELECTRICITY_GENERATION_TWH",gas:"GAS_ELECTRICITY_GENERATION_TWH",oil:"OIL_ELECTRICITY_GENERATION_TWH",hydro:"HYDRO_GENERATION_TWH",nuclear:"NUCLEAR_GENERATION_TWH",biofuelsWaste:"BIOFUELS_WASTE_ELECTRICITY_GENERATION_TWH",solarWindTideGeoth:"GEOTH_SOLAR_WIND_TIDE_ELECTRICITY_GENERATION_TWH"},_a="ELECTRICITY_GENERATION_TWH";var ja=function(e){var t=e.countryCode;return r.a.createElement("div",{className:"SummaryTab"},r.a.createElement("div",null,r.a.createElement(Ca,{title:"Primary energy consumption",description:"PRIMARY_ENERGY_CONSUMPTION_MTOE",countryCode:t,mapOfCountryStatistics:ba,worldReference:va,defaultPerCapita:!0,defaultStacked:!0})),r.a.createElement("div",{id:"test",style:{marginTop:"20px"}},r.a.createElement(Ca,{title:"Electricity generation by fuels",description:"ELECTRICITY_GENERATION_TWH",countryCode:t,mapOfCountryStatistics:ga,worldReference:_a,defaultPerCapita:!0,defaultStacked:!0})))};var Ta=function(e){var t=e.fuel,a=e.statistics,n=e.data,c=e.height,o=a.conso,i=a.prod;o.unit.main!==i.unit.main&&console.warn("Production and consommation have not the same unit",[i.code,o.code]);var u=o.unit.main,l=n.map(function(e){var t=Number((e.prod-e.conso).toFixed(2));return{year:e.year,prod:e.prod,conso:e.conso,export:t>0?t:null,import:t<0?-t:null,base:Math.min(e.prod,e.conso)}});return r.a.createElement("div",{className:"ProdConsoChart"},r.a.createElement(ia.a,{height:c},r.a.createElement(ua.a,{data:l},r.a.createElement(ca.a,{type:"monotone",dot:!1,dataKey:"base",stroke:"none",stackId:"1",activeDot:!1,fill:"none",unit:u}),r.a.createElement(ca.a,{type:"monotone",dot:!1,unit:u,name:"".concat(t," export"),dataKey:"export",activeDot:!1,stroke:"green",strokeOpacity:0,fillOpacity:.8,fill:"green",stackId:"1"}),r.a.createElement(ca.a,{type:"monotone",dot:!1,unit:u,name:"".concat(t," import"),dataKey:"import",activeDot:!1,stroke:"red",strokeOpacity:0,fillOpacity:.8,fill:"red",stackId:"1"}),r.a.createElement(oa.a,{type:"monotone",dataKey:"conso",dot:!1,unit:u,stroke:"#96281b",strokeWidth:3,name:o.name}),r.a.createElement(oa.a,{type:"monotone",dataKey:"prod",dot:!1,unit:u,stroke:"black",strokeWidth:3,strokeOpacity:.7,name:i.name}),r.a.createElement(la.a,{stroke:"#ccc",opacity:.2}),r.a.createElement(sa.a,{dataKey:"year",interval:9}),r.a.createElement(da.a,null),r.a.createElement(ma.a,{tickFormatter:H,content:function(e){return r.a.createElement(ya,Object.assign({},e,{displayFilter:function(e){return"base"!==e.name}}))}}))))},Na=a(632),Sa=a(327);function Ia(e){var t=e.data,a=e.color,n=e.statistics;return r.a.createElement("div",{className:"GDPByEnergyChart"},r.a.createElement(ia.a,{height:300},r.a.createElement(Na.a,{data:t,margin:{bottom:50}},r.a.createElement(Sa.a,{fill:a,shape:function(e){return r.a.createElement("circle",{cx:e.cx,cy:e.cy,r:3,fill:a})},line:!0}),r.a.createElement(la.a,{stroke:"#ccc",opacity:.2}),r.a.createElement(sa.a,{dataKey:"energy",name:n.energy.name,type:"number",domain:[function(e){return Math.floor(.95*e)},function(e){return Math.ceil(1.05*e)}],tickFormatter:H,label:{value:"".concat(n.energy.name," (").concat(n.energy.unit.main,")"),position:"bottom",style:{fill:"#666"}},padding:{left:5,right:5}}),r.a.createElement(da.a,{dataKey:"gdp",name:n.gdp.name,tickFormatter:H,padding:{top:5}}),r.a.createElement(ma.a,{content:function(e){return r.a.createElement(ya,Object.assign({},e,{label:e.payload&&e.payload[0]&&e.payload[0].payload.year,units:{0:n.energy.unit.main,1:n.gdp.unit.main}}))}}))))}Ia.defaultProps={color:"#2c82c9"};var ka=Ia,Ra=a(633);function wa(e){var t=e.data,a=e.statistics,n=e.color,c=e.perCapita,o=e.height,i=e.worldReference,u=e.country,l=a.value,s=q(l.unit,c),d=i&&(c||l.isIntensive);return r.a.createElement("div",{className:"BasicChart"},r.a.createElement(ia.a,{height:o},r.a.createElement(Ra.a,{data:t},r.a.createElement(oa.a,{type:"monotone",dataKey:"value",stroke:n,strokeWidth:3,dot:!1,name:u.commonName,unit:" ".concat(s)}),d&&r.a.createElement(oa.a,{type:"monotone",dataKey:"world",stroke:"red",strokeWidth:3,dot:!1,name:"World",unit:" ".concat(s)}),r.a.createElement(la.a,{stroke:"#ccc",opacity:.2}),r.a.createElement(sa.a,{dataKey:"year",interval:9,padding:{left:5,right:5}}),r.a.createElement(da.a,{tickFormatter:H}),r.a.createElement(ma.a,{content:function(e){return r.a.createElement(ya,e)}}),d&&r.a.createElement(pa.a,{iconType:"circle"}))))}wa.defaultProps={color:"#2c82c9"};var Aa=wa,Ma=ra()(Aa),Pa=ra({mapOfCountryStatisticsSelector:function(e,t){return{prod:t.prodStatisticCode,conso:t.consoStatisticCode}}})(Ta),La=ra({mapOfCountryStatisticsSelector:{gdp:"GDP_2010_USD",energy:"PRIMARY_ENERGY_CONSUMPTION_MTOE"}})(ka);var Wa=function(e){var t=e.countryCode,a=e.fuelProducedOrConsumed;return r.a.createElement("div",{className:"IndependencyTab"},r.a.createElement(Ve.a,null,r.a.createElement(Be.a,{md:8,sm:24},r.a.createElement(Ma,{statisticCode:"ENERGY_SELF_SUFFICIENCY",countryCode:t,color:"#f15a22"}))),r.a.createElement(Ve.a,{gutter:20},r.a.createElement("h3",null,"Imports/Exports"),a.coal&&r.a.createElement(Be.a,{md:8,sm:24},r.a.createElement(Pa,{countryCode:t,prodStatisticCode:"COAL_PRODUCTION_MTOE",consoStatisticCode:"COAL_CONSUMPTION_MTOE",fuel:"Coal",title:"Coal Trade"})),a.oil&&r.a.createElement(Be.a,{md:8,sm:24},r.a.createElement(Pa,{countryCode:t,prodStatisticCode:"OIL_PRODUCTION_MTOE",consoStatisticCode:"OIL_CONSUMPTION_MTOE",fuel:"Oil",title:"Oil Trade"})),a.gas&&r.a.createElement(Be.a,{md:8,sm:24},r.a.createElement(Pa,{countryCode:t,prodStatisticCode:"GAS_PRODUCTION_MTOE",consoStatisticCode:"GAS_CONSUMPTION_MTOE",fuel:"Gas",title:"Gas Trade"}))),r.a.createElement(Ve.a,null,r.a.createElement("h3",null,"Energy/GDP coupling"),r.a.createElement(Be.a,{md:16,sm:24},r.a.createElement(La,{countryCode:t,title:"GDP according to primary energy"}))))};var Ya=function(e){var t=e.countryCode;return r.a.createElement("div",{className:"ClimateTab"},r.a.createElement(Ve.a,{gutter:20},r.a.createElement(Be.a,{md:8,sm:24},r.a.createElement(Ma,{statisticCode:"FOSSIL_CO2_EMISSIONS_MT",perCapita:!0,countryCode:t,worldReference:!0})),r.a.createElement(Be.a,{md:8,sm:24},r.a.createElement(Ma,{statisticCode:"PRIMARY_ENERGY_CONSUMPTION_MTOE",perCapita:!0,countryCode:t,worldReference:!0})),r.a.createElement(Be.a,{md:8,sm:24},r.a.createElement(Ma,{statisticCode:"CO2_INTENSITY_OF_ENERGY",countryCode:t,worldReference:!0}))))},xa=[{key:"summary",tab:"Summary"},{key:"independency",tab:"Energy (in)dependency"},{key:"climate",tab:"Climate change"}],Da=Object(i.b)(function(e,t){return{fuelProducedOrConsumed:A(t.countryCode,e)}})(Wa),Ua={summary:function(e){return r.a.createElement(ja,{countryCode:e})},independency:function(e){return r.a.createElement(Da,{countryCode:e})},climate:function(e){return r.a.createElement(Ya,{countryCode:e})}},Ga=function(e){function t(){var e;return Object(Je.a)(this,t),(e=Object(Ze.a)(this,Object(Qe.a)(t).call(this))).state={currentTab:"climate"},e}return Object(Xe.a)(t,e),Object($e.a)(t,[{key:"setTab",value:function(e){this.setState({currentTab:e})}},{key:"render",value:function(){var e=this,t=this.props.country,a=this.state.currentTab;if(!t||t.disabled)return r.a.createElement(Ke.a,{to:"/"});var n=t.alpha2Code,c=z()?t.flagIcon:"";return r.a.createElement("div",{className:"CountryView"},r.a.createElement(Ve.a,{gutter:16},r.a.createElement(Be.a,{xs:24,sm:24,md:18},r.a.createElement(Dt.a,{title:r.a.createElement("h2",null,"".concat(c," ").concat(t.commonName))},r.a.createElement("div",null,"Capital: ".concat(t.capital)),r.a.createElement("div",null,"Area: ".concat(t.area.toLocaleString()," km\xb2")),r.a.createElement("div",null,"Member of: ",t.areas.map(function(e,t){return r.a.createElement(Ut.a,{key:e.code,to:"/area/".concat(e.code)},"".concat(t>0?", ":"").concat(e.name))})),r.a.createElement(Ve.a,{style:{marginTop:"20px"},gutter:20},r.a.createElement(Be.a,{xs:24,sm:24,md:24,lg:12},r.a.createElement(Ma,{statisticCode:"POPULATION",countryCode:n,color:"#2c82c9"})),r.a.createElement(Be.a,{xs:24,sm:24,md:24,lg:12},r.a.createElement(Ma,{statisticCode:"GDP_2010_USD",countryCode:n,color:"#f22613",perCapita:!0}))))),r.a.createElement(Be.a,{xs:0,sm:0,md:6},r.a.createElement("img",{style:{width:"100%",marginBottom:"20px",maxHeight:"180px"},src:"/img/flags/".concat(t.alpha3Code.toLowerCase(),".svg"),alt:"Flag of ".concat(t.commonName)}),r.a.createElement(Bt,{geojson:t.geojson,center:t.latlng}))),r.a.createElement(Ve.a,null,r.a.createElement(Dt.a,{tabList:xa,activeTabKey:a,onTabChange:function(t){return e.setTab(t)}},Ua[a](n))))}}]),t}(n.Component);Ga.defaultProps={country:null};var za=Object(i.b)(function(e,t){return{country:Gt(t.match.params.countryCode,e)}})(Ga);var Fa=function(){return r.a.createElement("div",{className:"AboutView"},r.a.createElement(Ve.a,null,r.a.createElement(Be.a,{md:16},r.a.createElement(Dt.a,{title:r.a.createElement("h1",null,"About")},r.a.createElement("p",null,"The goals of this app are:",r.a.createElement("ul",null,r.a.createElement("li",null,"to ease the vizualization of energy and economy data"),r.a.createElement("li",null,"gather different data from different place"),r.a.createElement("li",null,"propose an open-source project to do so, in order to let everybody contribute to a better understanding of these data."))),r.a.createElement("p",null,"This website has been developped by ",r.a.createElement("a",{href:"https://github.com/ewoken",rel:"noopener noreferrer"},"ewoken"),".")))))},Ha=[{key:"summary",tab:"Summary"},{key:"independency",tab:"Energy (in)dependency"},{key:"climate",tab:"Climate change"}],qa=Object(i.b)(function(e,t){return{fuelProducedOrConsumed:A(t.countryCode,e)}})(Wa),Ka={summary:function(e){return r.a.createElement(ja,{countryCode:e})},independency:function(e){return r.a.createElement(qa,{countryCode:e})},climate:function(e){return r.a.createElement(Ya,{countryCode:e})}},Ba=function(e){function t(){var e;return Object(Je.a)(this,t),(e=Object(Ze.a)(this,Object(Qe.a)(t).call(this))).state={currentTab:"summary"},e}return Object(Xe.a)(t,e),Object($e.a)(t,[{key:"setTab",value:function(e){this.setState({currentTab:e})}},{key:"render",value:function(){var e=this,t=this.props.area,a=this.state.currentTab,n=[t.countries.reduce(function(e,t){return t.latlng[0]+e},0)/t.countries.length,t.countries.reduce(function(e,t){return t.latlng[1]+e},0)/t.countries.length];return t?r.a.createElement("div",{className:"AreaView"},r.a.createElement(Ve.a,{gutter:16},r.a.createElement(Be.a,{xs:24,sm:24,md:18},r.a.createElement(Dt.a,{title:r.a.createElement("h2",null,"".concat(t.name))},"WORLD"!==t.code&&r.a.createElement("div",null,"Members : ",t.countries.map(function(e,t){return r.a.createElement(Ut.a,{key:e.alpha2Code,to:"/country/".concat(e.alpha2Code)},"".concat(t>0?", ":"").concat(e.commonName))})),r.a.createElement(Ve.a,{style:{marginTop:"20px"},gutter:10},r.a.createElement(Be.a,{xs:24,sm:24,md:24,lg:12},r.a.createElement(Ma,{statisticCode:"POPULATION",countryCode:t.code,color:"#2c82c9"})),r.a.createElement(Be.a,{xs:24,sm:24,md:24,lg:12},r.a.createElement(Ma,{statisticCode:"GDP_2010_USD",countryCode:t.code,color:"#f22613",perCapita:!0}))))),r.a.createElement(Be.a,{xs:0,sm:0,md:6},r.a.createElement(Bt,{geojson:t.geojson,center:n}))),r.a.createElement(Ve.a,null,r.a.createElement(Dt.a,{tabList:Ha,activeTabKey:a,onTabChange:function(t){return e.setTab(t)}},Ka[a](t.code)))):r.a.createElement(Ke.a,{to:"/"})}}]),t}(n.Component),Va=Object(i.b)(function(e,t){return{area:zt(t.match.params.areaCode,e)}})(Ba);var Ja=function(){return r.a.createElement("a",{href:"https://github.com/ewoken/world-data-app",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Ct.a,{type:"github",theme:"outlined"}),"GitHub")};var $a=function(e){var t=e.countries,a=e.areas,n=e.goTo;return r.a.createElement(It.a,{mode:"horizontal",theme:"dark",selectable:!1,style:{lineHeight:"64px"}},r.a.createElement(It.a.Item,{key:"home"},r.a.createElement(Ut.a,{to:"/home"},r.a.createElement("strong",null,"World Energy Data"))),r.a.createElement(It.a.Item,null,r.a.createElement(gt.a,{id:"mainCountrySelect",placeholder:"Countries",optionFilterProp:"title",showSearch:!z(),onSelect:function(e){n("/country/".concat(e))}},Object(p.j)(function(e){return e.commonName},t).map(function(e){return r.a.createElement(gt.a.Option,{key:e.alpha2Code,disabled:e.disabled,title:"".concat(e.commonName," (").concat(e.alpha3Code,")")},"".concat(e.commonName).concat(e.disabled?" (No data)":""))}))),r.a.createElement(It.a.SubMenu,{title:"Areas"},Object(p.j)(function(e){return e.name},a).map(function(e){return r.a.createElement(It.a.Item,{key:e.code},r.a.createElement(Ut.a,{to:"/area/".concat(e.code)},e.name))})),r.a.createElement(It.a.Item,{key:"about"},r.a.createElement(Ut.a,{to:"/about"},"About")),r.a.createElement(It.a.Item,null,r.a.createElement(Ja,null)))},Za=Qt(function(){return function(e){return e({type:g}),v().then(function(t){return e(T({data:Object(p.c)(Object(p.h)("alpha2Code"),t)}))}).catch(function(t){return e(T({errors:t}))})}}),Qa=Qt(function(){return function(e){return e({type:se}),re("/data/statistics.json").then(function(e){return e.concat(le)}).then(function(t){var a=t.map(function(e){return Object(l.a)({},e,{values:{}})});e(ye({data:Object(p.c)(Object(p.h)("code"),a)}))}).catch(function(t){return e(ye({errors:t}))})}}),Xa=Qt(function(){return function(e){return e({type:Re}),function(){return ke.apply(this,arguments)}().then(function(t){return e(Ae({data:Object(p.c)(Object(p.h)("code"),t)}))}).catch(function(t){return e(Ae({errors:t}))})}}),en=Object(Fe.a)(Object(i.b)(function(e,t){return{countries:I(e),areas:Le(e),goTo:function(e){return t.history.push(e)}}})($a));var tn=Object(Fe.a)(Object(i.b)(function(e){return{isLoaded:S(e)&&V(e)&&Pe(e)}})(function(e){var t=e.isLoaded;return r.a.createElement("div",{className:"AppLayout"},r.a.createElement(Za,null),r.a.createElement(Qa,null),r.a.createElement(Xa,null),r.a.createElement(Ge.a,{size:"large",spinning:!t},r.a.createElement(ze.a,null,r.a.createElement(ze.a.Header,{style:{position:"fixed",zIndex:10,width:"100%"}},r.a.createElement(en,null)),r.a.createElement(ze.a.Content,null,!t&&r.a.createElement("div",{className:"AppLayout__splash"}),t&&r.a.createElement(He.a,null,r.a.createElement(qe.a,{path:"/home",exact:!0,component:xt}),r.a.createElement(qe.a,{path:"/country/:countryCode",exact:!0,component:za}),r.a.createElement(qe.a,{path:"/area/:areaCode",exact:!0,component:Va}),r.a.createElement(qe.a,{path:"/about",exact:!0,component:Fa}),r.a.createElement(qe.a,{component:function(){return r.a.createElement(Ke.a,{to:{pathname:"/home"}})}}))),r.a.createElement(ze.a.Footer,null,"\xa0"))))}));var an=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.a,{store:Ue},r.a.createElement(u.a,null,r.a.createElement(tn,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(an,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[364,2,1]]]);
//# sourceMappingURL=main.fe1c85cc.chunk.js.map